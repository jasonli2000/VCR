STANDARD DATA DICTIONARY #704.002 -- CP_HL7_LOG FILE                                                                                                                                                                               APR 3,2014@10:22:16  PAGE 1
STORED IN ^MDC(704.002,  *** NO DATA STORED YET ***   SITE: PLA.ISC-WASH.DOMAIN.EXT   UCI: VISTA,PLA                                                                                                                                          (VERSION 1.0)   

DATA          NAME                  GLOBAL        DATA
ELEMENT       TITLE                 LOCATION      TYPE
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
This file maintains a log of HL7 Messages processed by Clinical Flowsheets.  


              DD ACCESS: @
              RD ACCESS: @
              WR ACCESS: @
             DEL ACCESS: @
           LAYGO ACCESS: @
           AUDIT ACCESS: @

PRIMARY KEY:        A (#85)
  Uniqueness Index: PK (#908)
       File, Field: 1) MESSAGE_ID (704.002,.01)

POINTED TO BY: CLIO_HL7_LOG field (#.01) of the CP_HL7_LOG_REASON File (#704.004) 
               


INDEXED BY:    STATUS (AS), MESSAGE_ID (PK), STATUS & PROCESSED_TIMESTAMP (PURGE)


704.002,.01   MESSAGE_ID             0;1 FREE TEXT (Required) (Key field)

              INPUT TRANSFORM:  K:$L(X)>38!($L(X)<38)!'(X'?1P.E) X
              LAST EDITED:      MAR 19, 2009 
              HELP-PROMPT:      Answer must be 38 characters in length 
              DESCRIPTION:      This field identifies the Clinical Flowsheets HL7 message.  This MESSAGE_ID is generated by the Clinical Flowsheets system.  
                                 
                                An example MESSAGE ID is : {99C25CEA-B3AD-C4B4-4A7F-38CC9BF94514} 

              FIELD INDEX:      PK (#908)    REGULAR    IR    LOOKUP & SORTING
                   Unique for:  Key A (#85), File #704.002
                  Short Descr:  Uniqueness Index for Key 'A' of File #704.002
                  Description:  This cross-reference defines the primary key for the CP_HL7_LOG file.  It references the .01 field, which contains a GUID.  
                    Set Logic:  S ^MDC(704.002,"PK",$E(X,1,38),DA)=""
                   Kill Logic:  K ^MDC(704.002,"PK",$E(X,1,38),DA)
                   Whole Kill:  K ^MDC(704.002,"PK")
                         X(1):  MESSAGE_ID  (704.002,.01)  (Subscr 1)  (Len 38)


704.002,.02   STATUS                 0;2 SET

                                '1' FOR ENTERED; 
                                '2' FOR AWAITING PROCESSING; 
                                '3' FOR ERROR; 
                                '4' FOR PROCESSED; 
              LAST EDITED:      MAR 24, 2009 
              HELP-PROMPT:      Select the status of this HL7 message.  
              DESCRIPTION:
                                This field indicates the status of this Clinical Flowsheets HL7 message (MESSAGE_ID field(#.01)).  This status is maintained by Clinical Flowsheets and HL7 message processing.  

              FIELD INDEX:      AS (#907)    REGULAR    IR    SORTING ONLY
                  Short Descr:  Sort on status
                  Description:  This cross reference allows an easy sort by status, thus allowing a query that searches, for example, for all messages in "AWAITING_PROCESSING" status.  
                    Set Logic:  S ^MDC(704.002,"AS",$E(X,1,30),DA)=""
                   Kill Logic:  K ^MDC(704.002,"AS",$E(X,1,30),DA)
                   Whole Kill:  K ^MDC(704.002,"AS")
                         X(1):  STATUS  (704.002,.02)  (Subscr 1)  (Len 30)  (forwards)

              RECORD INDEXES:   PURGE (#909)

704.002,.03   MAPPING_TABLE          0;3 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>50!($L(X)<1) X
              LAST EDITED:      MAR 24, 2009 
              HELP-PROMPT:      Answer must be 1-50 characters in length. 
              DESCRIPTION:
                                This field contains a copy of the ID field(#.01) in the TERM_MAPPING_TABLE file(#704.108).  It is used to determine which mapping table to use when translating the HL7 message (MESSAGE_ID(field(#.01)) into observations.  


704.002,.04   HL7_MESSAGE_ADMINISTRATION 0;4 POINTER TO HL7 MESSAGE ADMINISTRATION FILE (#773) (Required)

              LAST EDITED:      MAR 24, 2009 
              HELP-PROMPT:      Answer with HL7 MESSAGE ADMINISTRATION identifier. 
              DESCRIPTION:
                                This field identifies this Clinical Flowsheets HL7 message (MESSAGE_ID field (#.01)) with an entry in the HL7 Message Administration File (#773).  


704.002,.05   HL7_MESSAGE_TEXT       0;5 POINTER TO HL7 MESSAGE TEXT FILE (#772) (Required)

              LAST EDITED:      MAR 24, 2009 
              HELP-PROMPT:      Answer with an HL7 MESSAGE TEXT identifier. 
              DESCRIPTION:
                                This field identifies this Clinical Flowsheets HL7 message (MESSAGE_ID field (#.01)) text with an entry in the HL7 MESSAGE TEXT File (#772).  


704.002,.06   PATIENT                0;6 POINTER TO PATIENT FILE (#2)

              LAST EDITED:      MAR 24, 2009 
              HELP-PROMPT:      Answer with a PATIENT identifier. 
              DESCRIPTION:
                                This is the patient supported by the Clinical Flowsheets HL7 message (MESSAGE_ID field(#.01)).  


704.002,.07   STUDY_REFERENCE_NBR    0;7 POINTER TO CP TRANSACTION FILE (#702)

              LAST EDITED:      MAR 24, 2009 
              HELP-PROMPT:      Answer with CP TRANSACTION identifier. 
              DESCRIPTION:
                                This field identifies the Clinical Flowsheets HL7 message (MESSAGE_ID field(#.01)) with a CP TRANSACTION File (#702) entry.  


704.002,.08   MESSAGE_DATE_TIME      0;8 DATE

              INPUT TRANSFORM:  S %DT="ESTX" D ^%DT S X=Y K:X<1 X
              LAST EDITED:      MAR 24, 2009 
              HELP-PROMPT:      (No range limit on date) 
              DESCRIPTION:
                                This is the date/time the HL7 message (MESSAGE_ID field(#.01)) was created as reported by the HL7 system.  


704.002,.09   PROCESSED_TIMESTAMP    0;9 DATE

              INPUT TRANSFORM:  S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      MAR 24, 2009 
              HELP-PROMPT:      Answer with TIMESTAMP the message was processed. 
              DESCRIPTION:      This is the date/time the HL7 message (MESSAGE_ID field(#.01)) 
                                 was processed as reported by the HL7 system.  

              WRITE AUTHORITY:   
              RECORD INDEXES:   PURGE (#909)

704.002,.11   REPORTED_LOCATION      1;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>250!($L(X)<1) X
              LAST EDITED:      MAR 24, 2009 
              HELP-PROMPT:      Answer must be 1-250 characters in length. 
              DESCRIPTION:      This is raw-data as extracted from the HL7 message (MESSAGE_ID field(#.01)).  This should be location identifying data that can be used to locate the source of the HL7 message (MESSAGE_ID field(#.01)).  
                                 
                                A sample REPORTED LOCATION could be  "3AS|3XX-N|".  


704.002,.21   REPORTED_PATIENT       2;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>250!($L(X)<1) X
              LAST EDITED:      MAR 24, 2009 
              HELP-PROMPT:      Answer must be 1-250 characters in length. 
              DESCRIPTION:      This is raw-data extracted from the HL7 message (MESSAGE_ID field (#.01)).  This should be patient identifying data used to determine which patient the HL7 message (MESSAGE_ID field(#.01)) supports.  
                                 
                                A sample REPORTED PATIENT could be: 
                                 "CPFLOWSHEETS,PATIENT1|666262463|2550401|X|" .  


704.002,.31   REPORTED_INSTRUMENT    3;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>250!($L(X)<1) X
              LAST EDITED:      MAR 24, 2009 
              HELP-PROMPT:      Answer must be 1-250 characters in length. 
              DESCRIPTION:      This is raw-data extracted from the HL7 message (MESSAGE_ID field (#.01)).  This should be instrument identifying data used to determine the source-device of the HL7 message (MESSAGE_ID field(#.01)).  
                                 
                                A sample REPORTED INSTRUMENT could be "DEVICEX" .  



      FILES POINTED TO                      FIELDS

CP TRANSACTION (#702)             STUDY_REFERENCE_NBR (#.07)

HL7 MESSAGE ADMINISTRATION 
                   (#773)         HL7_MESSAGE_ADMINISTRATION (#.04)

HL7 MESSAGE TEXT (#772)           HL7_MESSAGE_TEXT (#.05)

PATIENT (#2)                      PATIENT (#.06)


File #704.002

  Record Indexes:

  PURGE (#909)    RECORD    REGULAR    IR    LOOKUP & SORTING
      Short Descr:  Purge cross reference
      Description:  This index will be used to quickly find entries to be purged when appropriate.  
        Set Logic:  S ^MDC(704.002,"PURGE",X(1),X(2),DA)=""
         Set Cond:  I X(1)="4"
       Kill Logic:  K ^MDC(704.002,"PURGE",X(1),X(2),DA)
        Kill Cond:  I X(1)'="4"
       Whole Kill:  K ^MDC(704.002,"PURGE")
             X(1):  STATUS  (704.002,.02)  (Subscr 1)  (forwards)
             X(2):  PROCESSED_TIMESTAMP  (704.002,.09)  (Subscr 2)  (forwards)


INPUT TEMPLATE(S):

PRINT TEMPLATE(S):

SORT TEMPLATE(S):

FORM(S)/BLOCK(S):