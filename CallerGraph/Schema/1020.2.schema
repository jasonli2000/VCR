STANDARD DATA DICTIONARY #1020.2 -- PPP FOREIGN FACILITY XREF FILE                                                                                                                                                                JUN 17,2014@15:24:55  PAGE 1
STORED IN ^PPP(1020.2,  *** NO DATA STORED YET ***   SITE: VXVISTA.ORG   UCI: VXVISTA,V13                                                                                                                                                     (VERSION 1.0)   

DATA          NAME                  GLOBAL        DATA
ELEMENT       TITLE                 LOCATION      TYPE
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 This file contains SSN, last date of visit at each facility, and other data for patients who have visited other VA facilities. This file is created everytime PPP Build FFX is run.  It is updated everytime PPP Batch is run. This file contains
approximately 10% of the VA patient population.  This file excludes local facility data.  
 
Per VHA Directive 10-93-142, this file definition should not be modified.  


              DD ACCESS: @
              RD ACCESS: @
              WR ACCESS: @
             DEL ACCESS: @
           LAYGO ACCESS: @
           AUDIT ACCESS: @

CROSS
REFERENCED BY: NAME(AC1), DOMAIN NAME(AC2), LAST DATE OF VISIT(ADT), PLACE OF VISIT(APOV), NAME(B), LAST BATCH REQUEST DATE(C), LAST DATE OF VISIT(D)

1020.2,.01    NAME                   0;1 POINTER TO PATIENT FILE (#2) (Required)

              LAST EDITED:      FEB 23, 1995 
              HELP-PROMPT:      Enter the Patients name 
              DESCRIPTION:       
                                 Pointer to PATIENT file 

              CROSS-REFERENCE:  1020.2^B 
                                1)= S ^PPP(1020.2,"B",$E(X,1,30),DA)=""
                                2)= K ^PPP(1020.2,"B",$E(X,1,30),DA)

              CROSS-REFERENCE:  1020.2^AC1^MUMPS 
                                1)= S PPPXRF=$$AC^PPPFMX1(DA,1) K PPPXRF
                                2)= S PPPXRF=$$AC^PPPFMX1(DA,0,.01,X) K PPPXRF
                                 
                                 
                                Creates a cross reference based on the pointer to the patient file and domain for each patient entered.  
                                 
                                Resulting Node ==> ^PPP(1020.2,"AC",[.01],[1.5],DA) 
                                   Where:  [.01] is field number for patient pointer (file #2) 
                                           [1.5] is filed number for domain name 
                                           DA is the entry number 
                                 
                                The resulting node is created by AC1 and AC2 cross references.  Re-indexing either of these cross references will correctly update/create the resulting node.  



1020.2,1      PLACE OF VISIT         0;2 POINTER TO INSTITUTION FILE (#4) (Required)

              LAST EDITED:      MAR 08, 1995 
              HELP-PROMPT:      Enter the name or station number where the patient was seen. 
              DESCRIPTION:
                                This field points to the entry in the institution file where the patient was seen.  

              CROSS-REFERENCE:  1020.2^APOV^MUMPS 
                                1)= D SDFNPOV^PPPFMX
                                2)= D KDFNPOV^PPPFMX
                                Creates a cross reference of all institutions for a given patient 
                                 
                                Resulting node ==>  ^PPP(1020.2,"APOV",[.01],[1],DA) 
                                   Where:    [.01] is patient pointer 
                                             [1]   is place of visit pointer 


              CROSS-REFERENCE:  ^^TRIGGER^1020.2^1.5 
                                1)= K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^PPP(1020.2,D0,1)):^(1),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV S X=$$DOMAIN^PPPFMX(DA) X ^DD(1020.2,1,1,2,1.4)
                                1.4)= S DIH=$S($D(^PPP(1020.2,DIV(0),1)):^(1),1:""),DIV=X S $P(^(1),U,5)=DIV,DIH=1020.2,DIG=1.5 D ^DICR:$O(^DD(DIH,DIG,1,0))>0
                                2)= K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^PPP(1020.2,D0,1)):^(1),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV S X=$$DOMAIN^PPPFMX(DA) X ^DD(1020.2,1,1,2,2.4)
                                2.4)= S DIH=$S($D(^PPP(1020.2,DIV(0),1)):^(1),1:""),DIV=X S $P(^(1),U,5)=DIV,DIH=1020.2,DIG=1.5 D ^DICR:$O(^DD(DIH,DIG,1,0))>0
                                CREATE VALUE)= S X=$$DOMAIN^PPPFMX(DA)
                                DELETE VALUE)= S X=$$DOMAIN^PPPFMX(DA)
                                FIELD)= DOMAIN NAME
                                Sets domain from the station number passed from the MPD server 



1020.2,1.5    DOMAIN NAME            1;5 POINTER TO DOMAIN FILE (#4.2)

              INPUT TRANSFORM:  S DIC("S")="I 1" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
              LAST EDITED:      MAR 08, 1995 
              DESCRIPTION:       
                                 The exact name of the domain, as used in network addressing 
                                 

              SCREEN:           S DIC("S")="I 1"
              EXPLANATION:      Used to make sure a domain gets selected
              NOTES:            TRIGGERED by the PLACE OF VISIT field of the PPP FOREIGN FACILITY XREF File 

              CROSS-REFERENCE:  1020.2^AC2^MUMPS 
                                1)= S PPPXRF=$$AC^PPPFMX1(DA,1) K PPPXRF
                                2)= S PPPXRF=$$AC^PPPFMX1(DA,0,1.5,X) K PPPXRF
                                 
                                 
                                Creates a cross reference based on the pointer to the patient file and domain for each patient entered.  
                                 
                                Resulting Node ==> ^PPP(1020.2,"AC",[.01],[1.5],DA) 
                                   Where:  [.01] is field number for patient pointer (file #2) 
                                           [1.5] is filed number for domain name 
                                           DA is the entry number 



1020.2,2      LAST DATE OF VISIT     0;3 DATE (Required)

              INPUT TRANSFORM:  S %DT="EST",%DT(0)="-NOW" D ^%DT K %DT(0) S X=Y K:Y<1 X
              LAST EDITED:      NOV 09, 2000 
              HELP-PROMPT:      Enter the date the patient was last seen at that facility. 
              DESCRIPTION:
                                This field contains the date the patient was last seen at the facility.  

              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER

              CROSS-REFERENCE:  1020.2^ADT^MUMPS 
                                1)= D SDFNDT^PPPFMX
                                2)= D KDFNDT^PPPFMX
                                Creates a cross reference on last date of visit 
                                 
                                Resulting node ==>  ^PPP(1020.2,"ADT",[2],DA) 
                                   Where:    [2] is last date of visit 


              CROSS-REFERENCE:  ^^TRIGGER^1020.2^8 
                                1)= K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(1)=$S($D(^PPP(1020.2,D0,0)):^(0),1:"") S X=$P(Y(1),U,5)="" I X S X=DIV S Y(1)=$S($D(^PPP(1020.2,D0,0)):^(0),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y S X=DIV S X=DT X ^DD(1020.2,
                                2,1,2,1.4)

                                1.4)= S DIH=$S($D(^PPP(1020.2,DIV(0),0)):^(0),1:""),DIV=X S $P(^(0),U,5)=DIV,DIH=1020.2,DIG=8 D ^DICR:$O(^DD(DIH,DIG,1,0))>0

                                2)= Q

                                CREATE CONDITION)= ENTRY DATE=""
                                CREATE VALUE)= TODAY
                                DELETE VALUE)= NO EFFECT
                                FIELD)= ENTRY DATE
                                This trigger establishes the date the entry was added to the file 


              CROSS-REFERENCE:  1020.2^D 
                                1)= S ^PPP(1020.2,"D",$E(X,1,30),DA)=""
                                2)= K ^PPP(1020.2,"D",$E(X,1,30),DA)
                                 



1020.2,3      LAST PDX TRANSACTION   1;1 POINTER TO VAQ - TRANSACTION FILE (#394.61)

              LAST EDITED:      AUG 10, 1993 
              HELP-PROMPT:      Enter PDX transaction number 
              DESCRIPTION:
                                This field contains a pointer to the relevant entry in the PDX Transaction file.  


1020.2,4      LAST PDX DATE          1;2 DATE

              INPUT TRANSFORM:  S %DT="EST" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      JAN 06, 1992 
              HELP-PROMPT:      Enter the date of the last PDX request. 
              DESCRIPTION:
                                This field contains the date of the last PDX request for this patient to this facility.  


1020.2,5      LAST PDX STATUS        1;3 POINTER TO VAQ - STATUS FILE (#394.85)

              LAST EDITED:      AUG 10, 1993 
              HELP-PROMPT:      Enter pointer to PDX Status file. 
              DESCRIPTION:
                                This field contains the status of the last PDX request.  


1020.2,6      LAST BATCH REQUEST DATE 1;4 DATE

              INPUT TRANSFORM:  S %DT="EST" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      JAN 13, 1992 
              HELP-PROMPT:      Enter the date the last PDX Batch request was made. 
              DESCRIPTION:
                                This field contains the date the last batch PDX was made.  

              CROSS-REFERENCE:  1020.2^C 
                                1)= S ^PPP(1020.2,"C",$E(X,1,30),DA)=""
                                2)= K ^PPP(1020.2,"C",$E(X,1,30),DA)


1020.2,7      ENTRY SOURCE           0;4 SET (Required)

                                '0' FOR AUTO; 
                                '1' FOR MANUAL; 
              LAST EDITED:      JAN 06, 1992 
              HELP-PROMPT:      Enter a 1 if this entry was done manually. 
              DESCRIPTION:
                                This filed indicates whether the entry was made from an auto-build (0) or by a manual entry (1).  


1020.2,8      ENTRY DATE             0;5 DATE (Required)

              INPUT TRANSFORM:  S %DT="EST" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      JAN 06, 1992 
              HELP-PROMPT:      Enter date entry was made or edited. 
              DESCRIPTION:
                                This field contains the date this entry was made or edited.  

              NOTES:            TRIGGERED by the LAST DATE OF VISIT field of the PPP FOREIGN FACILITY XREF File 



      FILES POINTED TO                      FIELDS

DOMAIN (#4.2)                     DOMAIN NAME (#1.5)

INSTITUTION (#4)                  PLACE OF VISIT (#1)

PATIENT (#2)                      NAME (#.01)

VAQ - STATUS (#394.85)            LAST PDX STATUS (#5)

VAQ - TRANSACTION (#394.61)       LAST PDX TRANSACTION (#3)



INPUT TEMPLATE(S):

PRINT TEMPLATE(S):

SORT TEMPLATE(S):

FORM(S)/BLOCK(S):