STANDARD DATA DICTIONARY #123.6 -- IFC MESSAGE LOG FILE                                                                                                                                                                            APR 3,2014@10:22:39  PAGE 1
STORED IN ^GMR(123.6,  *** NO DATA STORED YET ***   SITE: PLA.ISC-WASH.DOMAIN.EXT   UCI: VISTA,PLA                                                                                                                                            (VERSION 3.0)   

DATA          NAME                  GLOBAL        DATA
ELEMENT       TITLE                 LOCATION      TYPE
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
This file is used to maintain a log of transmissions of inter-facility consult activities to a remote VistA system. The file will record the record and activity that triggered the transmission as well as the facility to which the transmission was
directed. Any transmission that receives a negative acknowledgement from the remote system will have an error code recorded. 
 
Upon successful completion of a transmission with successful acknowledgement, entries will be deleted after approximately one week.  


              DD ACCESS: @
              RD ACCESS: @
              WR ACCESS: @
             DEL ACCESS: @
           LAYGO ACCESS: @
           AUDIT ACCESS: @

CROSS
REFERENCED BY: INCOMPLETE(AI), MESSAGE #(AM), DATE/TIME OF ENTRY(B)

INDEXED BY:    CONSULT/REQUEST # & ACTIVITY # & INCOMPLETE (AC), CONSULT/REQUEST # & ACTIVITY # (C)


123.6,.01     DATE/TIME OF ENTRY     0;1 DATE (Required)

              INPUT TRANSFORM:  S %DT="ESTX" D ^%DT S X=Y K:X<1 X
              LAST EDITED:      DEC 07, 2001 
              HELP-PROMPT:      (No range limit on date) 
              DESCRIPTION:
                                This is the date time an HL7 message was directed to another VistA system containing an inter-facility consult update.  

              CROSS-REFERENCE:  123.6^B 
                                1)= S ^GMR(123.6,"B",$E(X,1,30),DA)=""
                                2)= K ^GMR(123.6,"B",$E(X,1,30),DA)


123.6,.02     FACILITY               0;2 POINTER TO INSTITUTION FILE (#4)

              LAST EDITED:      DEC 07, 2001 
              HELP-PROMPT:      Enter the INSTITUTION to which this message is directed 
              DESCRIPTION:
                                This field contains the institution to which an HL7 message was sent. The messages contain updates to an inter-facility consult. 


123.6,.03     MESSAGE #              0;3 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>20!($L(X)<2) X
              LAST EDITED:      DEC 07, 2001 
              HELP-PROMPT:      Enter the number of the HL7 message that corresponds to this entry 
              DESCRIPTION:
                                This is the HL7 message number generated by the VistA HL7 package. This message number is used to match up the application acknowledgement from the remote system to the event that generated it. 

              CROSS-REFERENCE:  123.6^AM 
                                1)= S ^GMR(123.6,"AM",$E(X,1,30),DA)=""
                                2)= K ^GMR(123.6,"AM",$E(X,1,30),DA)


123.6,.04     CONSULT/REQUEST #      0;4 NUMBER

              INPUT TRANSFORM:  K:+X'=X!(X>9999999)!(X<1)!(X?.E1"."1N.N) X
              LAST EDITED:      DEC 07, 2001 
              HELP-PROMPT:      Enter the file 123 IEN that initiated this message 
              DESCRIPTION:
                                This is the numeric respresentation of the REQUEST/CONSULTATION file entry that generated this message activity.  

              RECORD INDEXES:   AC (#114), C (#115)

123.6,.05     ACTIVITY #             0;5 NUMBER

              INPUT TRANSFORM:  K:+X'=X!(X>999)!(X<1)!(X?.E1"."1.N) X
              LAST EDITED:      DEC 07, 2001 
              HELP-PROMPT:      Enter the field 40 IEN that initiated this message 
              DESCRIPTION:
                                This is the numeric representation of the ien within the REQUEST PROCESSING ACTIVITY multiple for the consult entry referenced in the CONSULT # field.  

              RECORD INDEXES:   AC (#114), C (#115)

123.6,.06     INCOMPLETE             0;6 SET

                                '1' FOR YES; 
              LAST EDITED:      DEC 07, 2001 
              HELP-PROMPT:      Enter Yes if this transmission has not received the appl ACK 
              DESCRIPTION:
                                This field is set to YES until a successful application accept acknowledgement is received from the remote VistA system.  

              CROSS-REFERENCE:  123.6^AI 
                                1)= S ^GMR(123.6,"AI",$E(X,1,30),DA)=""
                                2)= K ^GMR(123.6,"AI",$E(X,1,30),DA)

              RECORD INDEXES:   AC (#114)

123.6,.07     TRANS. ATTEMPTS        0;7 NUMBER

              INPUT TRANSFORM:  K:+X'=X!(X>20)!(X<1)!(X?.E1"."1.N) X
              LAST EDITED:      DEC 07, 2001 
              HELP-PROMPT:      Type a number between 1 and 20, 0 Decimal Digits 
              DESCRIPTION:
                                This field contains the number of times an HL7 message containing a particular consult activity was transmitted to a remote VistA system.  


123.6,.08     ERROR                  0;8 NUMBER

              INPUT TRANSFORM:  K:+X'=X!(X>1000)!(X<100)!(X?.E1"."1N.N) X
              OUTPUT TRANSFORM: S Y="ERR"_Y_"^GMRCIUTL" S Y=$T(@Y),Y=$P(Y,";",2)
              LAST EDITED:      DEC 07, 2001 
              HELP-PROMPT:      Type a Number between 100 and 1000, 0 Decimal Digits 
              DESCRIPTION:      This field contains the error condition noted on the receiving site when receiving an IFC HL7 message.  
                                 
                                The error code numbers are defined and maintained within package documentation. 



      FILES POINTED TO                      FIELDS

INSTITUTION (#4)                  FACILITY (#.02)


File #123.6

  Record Indexes:

  AC (#114)    RECORD    REGULAR    IR    SORTING ONLY
      Short Descr:  This index is used to sort incomplete records by request number
        Set Logic:  S ^GMR(123.6,"AC",$E(X(1),1,15),$E(X(2),1,4),$E(X(3),1,1),DA)=""
       Kill Logic:  K ^GMR(123.6,"AC",$E(X(1),1,15),$E(X(2),1,4),$E(X(3),1,1),DA)
       Whole Kill:  K ^GMR(123.6,"AC")
             X(1):  CONSULT/REQUEST #  (123.6,.04)  (Subscr 1)  (Len 15)  (forwards)
             X(2):  ACTIVITY #  (123.6,.05)  (Subscr 2)  (Len 4)  (forwards)
             X(3):  INCOMPLETE  (123.6,.06)  (Subscr 3)  (Len 1)  (forwards)

  C (#115)    RECORD    REGULAR    IR    LOOKUP & SORTING
      Short Descr:  Index on Consult# & Activity#
        Set Logic:  S ^GMR(123.6,"C",$E(X(1),1,10),$E(X(2),1,4),DA)=""
       Kill Logic:  K ^GMR(123.6,"C",$E(X(1),1,10),$E(X(2),1,4),DA)
       Whole Kill:  K ^GMR(123.6,"C")
             X(1):  CONSULT/REQUEST #  (123.6,.04)  (Subscr 1)  (Len 10)  (forwards)
                      Lookup Prompt:  Select Consult #
             X(2):  ACTIVITY #  (123.6,.05)  (Subscr 2)  (Len 4)  (forwards)


INPUT TEMPLATE(S):

PRINT TEMPLATE(S):

SORT TEMPLATE(S):

FORM(S)/BLOCK(S):