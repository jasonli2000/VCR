STANDARD DATA DICTIONARY #661.6 -- PROSTHETIC INVENTORY TRANSACTION FILE                                                                                                                                                          JUN 17,2014@15:25:08  PAGE 1
STORED IN ^RMPR(661.6,  *** NO DATA STORED YET ***   SITE: VXVISTA.ORG   UCI: VXVISTA,V13                                                                                                                                                     (VERSION 3.0)   

DATA          NAME                  GLOBAL        DATA
ELEMENT       TITLE                 LOCATION      TYPE
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
This file records each transaction as it pertains to inventory.  


              DD ACCESS: @
             DEL ACCESS: @
           AUDIT ACCESS: @

POINTED TO BY: STOCK ISSUE field (#4.6) of the RECORD OF PROS APPLIANCE/REPAIR File (#660) 
               INVENTORY TRANSACTION field (#.01) of the PROSTHETIC TRANSACTION PATIENT ISSUE File (#661.63) 
               TRANSACTION POINTER field (#.01) of the PROSTHETIC INVENTORY GAIN/LOSS File (#661.69) 
               

CROSS
REFERENCED BY: HCPCS(B), DATE&TIME STAMP(C)

INDEXED BY:    DATE&TIME STAMP & HCPCS & SEQUENCE (ADHS), STATION & HCPCS & DATE&TIME STAMP (ASHD), STATION & LOCATION & DATE&TIME STAMP (ASLD), STATION & TRANSACTION TYPE & HCPCS & HCPCS ITEM & DATE&TIME STAMP & SEQUENCE (ASTHIDS), HCPCS & DATE&TIME
               STAMP & SEQUENCE (XHDS), STATION & TRANSACTION TYPE & DATE&TIME STAMP (XSTD)


661.6,.01     HCPCS                  0;1 FREE TEXT (Required)

              INPUT TRANSFORM:  K:$L(X)>20!($L(X)<5) X
              LAST EDITED:      SEP 08, 2005 
              HELP-PROMPT:      Answer must be 5-20 characters in length. 
              DESCRIPTION:
                                This field is the HCPCS code as defined by the .01 field in the PROSTHETIC HCPCS file (661.1).  

              CROSS-REFERENCE:  661.6^B 
                                1)= S ^RMPR(661.6,"B",$E(X,1,30),DA)=""
                                2)= K ^RMPR(661.6,"B",$E(X,1,30),DA)

              RECORD INDEXES:   ADHS (#30), ASHD (#31), ASTHIDS (#33), XHDS (#34)

661.6,2       DATE&TIME STAMP        0;2 DATE (Required)

              INPUT TRANSFORM:  S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      MAR 20, 2002 
              DESCRIPTION:      This field is the date and time stamp (fileman standard format) of the transaction. This field will be automatically generated by the system and assumes users will record inventory transactions in a timely manner.  It is
                                one of the primary key fields and is also recorded on the barcode.  It is a requirement that the date@time stamp should have a unique value for any given HCPCS. The reason for this is that HCPCS will also be recorded on an
                                item's barcode and it is important that barcodes will not need changing if a site is integrated at some time in the future.  Given the date&time stamp and HCPCS fields it is possible to generate a transactions IEN using
                                the appropriate cross-reference.  

              CROSS-REFERENCE:  661.6^C 
                                1)= S ^RMPR(661.6,"C",$E(X,1,30),DA)=""
                                2)= K ^RMPR(661.6,"C",$E(X,1,30),DA)

              RECORD INDEXES:   ADHS (#30), ASHD (#31), ASLD (#32), ASTHIDS (#33), XHDS (#34), XSTD (#35)

661.6,3       SEQUENCE               0;3 NUMBER

              INPUT TRANSFORM:  K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1.N) X
              LAST EDITED:      JAN 17, 2001 
              HELP-PROMPT:      Type a number between 1 and 999999999, 0 Decimal Digits 
              DESCRIPTION:      This field is a sequence number starting at 1 and incremented by 1 for each transaction which has the same HCPCS and DATE&TIME STAMP fields. This situation should be very rare and only occurs at all after site 
                                integrations. The HCPCS, DATE&TIME STAMP and SEQUENCE fields together make up the primary key for this file.  The rationale behind this design is to allow the HCPCS and DATE&TIME STAMP to be printed as a barcode for
                                automated data entry on a stock issue form.  Fileman IENs will be derived from appropriate cross-references and, of course, these IENs can all change if a site is integrated.  On the rare occasions where there is more than
                                1 SEQUENCE number associated with a HCPCS and DATE&TIME STAMP the user will have to be prompted to select from a list of transactions. We see no way round this inconvenience but hopefully it will be extremely rare! 

              RECORD INDEXES:   ADHS (#30), ASTHIDS (#33), XHDS (#34)

661.6,4       TRANSACTION TYPE       0;4 SET

                                '1' FOR RECEIPT; 
                                '2' FOR ORDER; 
                                '3' FOR PATIENT ISSUE; 
                                '4' FOR ISSUE TO LAB; 
                                '5' FOR RETURN TO VENDOR; 
                                '6' FOR WRITE OFF; 
                                '7' FOR TRANSFER; 
                                '8' FOR RETURN IN; 
                                '9' FOR RECONCILE; 
              LAST EDITED:      MAY 15, 2001 
              DESCRIPTION:      This field records the transaction type, which can be one of the following...  
                                 
                                Receipt - for receiving items into stock.  
                                 
                                Order - for when a stock item has been ordered from the vendor.  
                                 
                                Patient Issue - for when a stock item is issued to a veteran.  
                                 
                                Issue to Lab - this transaction should be used for those items which are 
                                               used by the labs to fabricate items. An example would be a 
                                               bag of plaster which could be used for treating several 
                                               patients.  
                                 
                                Return to Vendor - if an item has been received into stock but is later 
                                                   returned to the vendor for some reason, then this 
                                                   transaction type should be used.  
                                 
                                Write Off - use this transaction type when an item is removed from stock 
                                            and scrapped.  
                                 
                                Transfer - for transferring stock between locations. The transaction 
                                           quantity will be -ve for the 'transfer from' location.  
                                 
                                Return In - for when a veteran returns a stock item previously issued.  
                                 
                                Reconcile - for when a stock check is done.  

              RECORD INDEXES:   ASTHIDS (#33), XSTD (#35)

661.6,5       QUANTITY               0;5 NUMBER

              INPUT TRANSFORM:  K:+X'=X!(X>99999999)!(X<-999999)!(X?.E1"."1N.N) X
              LAST EDITED:      APR 26, 2001 
              HELP-PROMPT:      Type a Number between -999999 and 99999999, 0 Decimal Digits 
              DESCRIPTION:
                                The number of items associated with the transaction.  


661.6,6       VALUE                  0;6 NUMBER

              INPUT TRANSFORM:  S:X["$" X=$P(X,"$",2) K:X'?."-".N.1".".2N!(X>99999999)!(X<-999999) X
              LAST EDITED:      APR 26, 2001 
              HELP-PROMPT:      Type a Dollar Amount between -999999 and 99999999, 2 Decimal Digits 
              DESCRIPTION:
                                The dollar value of the transaction.  


661.6,8       COMMENT                0;8 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>40!($L(X)<1) X
              LAST EDITED:      NOV 29, 2000 
              HELP-PROMPT:      Answer must be 1-40 characters in length 
              DESCRIPTION:
                                A short comment can be entered, if required for a particular transaction.  


661.6,9       USER                   0;9 POINTER TO NEW PERSON FILE (#200)

              LAST EDITED:      NOV 29, 2000 
              DESCRIPTION:
                                This field points to the New Person file (200) and identifies the person responsible for creating the transaction on the system.  


661.6,11      HCPCS ITEM             0;11 NUMBER (Required)

              INPUT TRANSFORM:  K:+X'=X!(X>9999999999)!(X<1)!(X?.E1"."1N.N) X
              LAST EDITED:      FEB 20, 2001 
              HELP-PROMPT:      Type a Number between 1 and 9999999999, 0 Decimal Digits 
              DESCRIPTION:
                                This field is the HCPCS ITEM field held on the 661.12 sub field  of the PROSTHETIC HCPCS file (661.1).  The value held is the sub file's IEN not the ITEM text field.  

              RECORD INDEXES:   ASTHIDS (#33)

661.6,12      VENDOR                 0;12 POINTER TO VENDOR FILE (#440)

              LAST EDITED:      JAN 18, 2001 
              HELP-PROMPT:      Answer must be 1-30 characters in length 
              DESCRIPTION:      This field is the FMS VENDOR CODE held on the VENDOR file (440). This field is guaranteed to be unique irrespective of where a database is located. The Vendor IEN should be derived from the 'D' cross-reference of the
                                Vendor file.  


661.6,13      STATION                0;13 POINTER TO INSTITUTION FILE (#4)

              LAST EDITED:      MAY 15, 2001 
              DESCRIPTION:
                                This field is a pointer to the INSTITUTION file (4).  

              RECORD INDEXES:   ASHD (#31), ASLD (#32), ASTHIDS (#33), XSTD (#35)

661.6,14      LOCATION               0;14 POINTER TO PROSTHETIC STOCK LOCATION FILE (#661.5)

              LAST EDITED:      APR 19, 2001 
              DESCRIPTION:
                                This field is a pointer to the PROSTHETIC STOCK LOCATION file (661.5).  

              RECORD INDEXES:   ASLD (#32)


      FILES POINTED TO                      FIELDS

INSTITUTION (#4)                  STATION (#13)

NEW PERSON (#200)                 USER (#9)

PROSTHETIC STOCK LOCATION 
                   (#661.5)       LOCATION (#14)

VENDOR (#440)                     VENDOR (#12)


File #661.6

  Record Indexes:

  ADHS (#30)    RECORD    REGULAR    IR    SORTING ONLY
      Short Descr:  xref on DATE&TIME STAMP, HCPCS and SEQUENCE
        Set Logic:  S ^RMPR(661.6,"ADHS",X(1),$E(X(2),1,30),X(3),DA)=""
       Kill Logic:  K ^RMPR(661.6,"ADHS",X(1),$E(X(2),1,30),X(3),DA)
       Whole Kill:  K ^RMPR(661.6,"ADHS")
             X(1):  DATE&TIME STAMP  (661.6,2)  (Subscr 1)  (forwards)
             X(2):  HCPCS  (661.6,.01)  (Subscr 2)  (Len 30)  (forwards)
             X(3):  SEQUENCE  (661.6,3)  (Subscr 3)  (forwards)

  ASHD (#31)    RECORD    REGULAR    IR    SORTING ONLY
      Short Descr:  STATION & HCPCS & DATE
        Set Logic:  S ^RMPR(661.6,"ASHD",X(1),$E(X(2),1,30),X(3),DA)=""
       Kill Logic:  K ^RMPR(661.6,"ASHD",X(1),$E(X(2),1,30),X(3),DA)
       Whole Kill:  K ^RMPR(661.6,"ASHD")
             X(1):  STATION  (661.6,13)  (Subscr 1)  (forwards)
             X(2):  HCPCS  (661.6,.01)  (Subscr 2)  (Len 30)  (forwards)
             X(3):  DATE&TIME STAMP  (661.6,2)  (Subscr 3)  (forwards)

  ASLD (#32)    RECORD    REGULAR    IR    SORTING ONLY
      Short Descr:  Index on Station ien, Location ien and date&time stamp
        Set Logic:  S ^RMPR(661.6,"ASLD",X(1),X(2),X(3),DA)=""
       Kill Logic:  K ^RMPR(661.6,"ASLD",X(1),X(2),X(3),DA)
       Whole Kill:  K ^RMPR(661.6,"ASLD")
             X(1):  STATION  (661.6,13)  (Subscr 1)  (forwards)
             X(2):  LOCATION  (661.6,14)  (Subscr 2)  (forwards)
             X(3):  DATE&TIME STAMP  (661.6,2)  (Subscr 3)  (forwards)

  ASTHIDS (#33)    RECORD    REGULAR    IR    SORTING ONLY
      Short Descr:  Station, Transaction, HCPCS Item Index
      Description:  This cross-reference is an index on Station, Transaction type, HCPCS, Item, Date&Time stamp, and Sequence.  It is used to sum total quantities and dollar values for a transaction type for a HCPCS Item between any 2 dates.  
        Set Logic:  S ^RMPR(661.6,"ASTHIDS",X(1),X(2),$E(X(3),1,30),$E(X(4),1,30),X(5),X(6),DA)=""
       Kill Logic:  K ^RMPR(661.6,"ASTHIDS",X(1),X(2),$E(X(3),1,30),$E(X(4),1,30),X(5),X(6),DA)
       Whole Kill:  K ^RMPR(661.6,"ASTHIDS")
             X(1):  STATION  (661.6,13)  (Subscr 1)  (forwards)
             X(2):  TRANSACTION TYPE  (661.6,4)  (Subscr 2)  (forwards)
             X(3):  HCPCS  (661.6,.01)  (Subscr 3)  (Len 30)  (forwards)
             X(4):  HCPCS ITEM  (661.6,11)  (Subscr 4)  (Len 30)  (forwards)
             X(5):  DATE&TIME STAMP  (661.6,2)  (Subscr 5)  (forwards)
             X(6):  SEQUENCE  (661.6,3)  (Subscr 6)  (forwards)

  XHDS (#34)    RECORD    REGULAR    IR    LOOKUP & SORTING
      Short Descr:  x-ref on HCPCS, DATE&TIME STAMP and SEQUENCE
      Description:  The XHDS cross-reference is the main primary key reference for the transaction file.  
        Set Logic:  S ^RMPR(661.6,"XHDS",$E(X(1),1,30),X(2),X(3),DA)=""
       Kill Logic:  K ^RMPR(661.6,"XHDS",$E(X(1),1,30),X(2),X(3),DA)
       Whole Kill:  K ^RMPR(661.6,"XHDS")
             X(1):  HCPCS  (661.6,.01)  (Subscr 1)  (Len 30)  (forwards)
             X(2):  DATE&TIME STAMP  (661.6,2)  (Subscr 2)  (forwards)
             X(3):  SEQUENCE  (661.6,3)  (Subscr 3)  (forwards)

  XSTD (#35)    RECORD    REGULAR    IR    LOOKUP & SORTING
      Short Descr:  S station, T type of transaction D date
      Description:  Use for PIP report.  
        Set Logic:  S ^RMPR(661.6,"XSTD",X(1),X(2),X(3),DA)=""
       Kill Logic:  K ^RMPR(661.6,"XSTD",X(1),X(2),X(3),DA)
       Whole Kill:  K ^RMPR(661.6,"XSTD")
             X(1):  STATION  (661.6,13)  (Subscr 1)  (forwards)
             X(2):  TRANSACTION TYPE  (661.6,4)  (Subscr 2)  (forwards)
             X(3):  DATE&TIME STAMP  (661.6,2)  (Subscr 3)  (forwards)


INPUT TEMPLATE(S):

PRINT TEMPLATE(S):

SORT TEMPLATE(S):

FORM(S)/BLOCK(S):