STANDARD DATA DICTIONARY #9000010.31 -- V BLOOD BANK FILE                                                                                                                                                                         JUN 17,2014@15:24:42  PAGE 1
STORED IN ^AUPNVBB(  *** NO DATA STORED YET ***   SITE: VXVISTA.ORG   UCI: VXVISTA,V13                                                                                                                                                                        

DATA          NAME                  GLOBAL        DATA
ELEMENT       TITLE                 LOCATION      TYPE
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
This file contains all lab tests ordered, with results being entered optionally for selected tests.  The file does not currently interface with the VA Radiology system.  The file contains backward pointers to the IHS Patient file, and visit file, and
data must exist in both of these files for a visit for before data can be entered here. There will be one record for each type lab test ordered for the patient on a given visit; the .01 record may therefore be duplicated.  


IDENTIFIED BY: LR ACCESSION NO. (#.06)[R]

POINTED TO BY: PARENT field (#1208) of the V BLOOD BANK File (#9000010.31) 
               

CROSS
REFERENCED BY: VISIT(AA), PATIENT NAME(AATOO), LAB TEST(AATOO2), PATIENT NAME(AC), VISIT(AD), VISIT(AE), LAB TEST(AETOO), PATIENT NAME(AETOO2), LR ACCESSION NO.(ALR), LR ACCESSION NO.(ALR0), ORDERING PROVIDER(AOP), PATIENT NAME(AOP2), VISIT(AV10), 
               LAB TEST(AV9), LAB TEST(B)

9000010.31,.01LAB TEST               0;1 POINTER TO LABORATORY TEST FILE (#60) (Required)

              LAST EDITED:      MAR 31, 1997 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTLAB") 

              CROSS-REFERENCE:  9000010.31^B 
                                1)= S ^AUPNVBB("B",$E(X,1,30),DA)=""
                                2)= K ^AUPNVBB("B",$E(X,1,30),DA)

              CROSS-REFERENCE:  9000010.31^AV9^MUMPS 
                                1)= S:$D(APCDLOOK) DIC("DR")=""
                                2)= Q

              CROSS-REFERENCE:  9000010.31^AATOO2^MUMPS 
                                1)= I $P(^AUPNVBB(DA,0),U,2)]"",$P(^(0),U,3)]"" S ^AUPNVBB("AA",$P(^AUPNVBB(DA,0),U,2),X,(9999999-$P(+^AUPNVSIT($P(^AUPNVBB(DA,0),U,3),0),".",1)),DA)=""
                                2)= I $P(^AUPNVBB(DA,0),U,2)]"",$P(^(0),U,3)]"" K ^AUPNVBB("AA",$P(^AUPNVBB(DA,0),U,2),X,(9999999-$P(+^AUPNVSIT($P(^AUPNVBB(DA,0),U,3),0),".",1)),DA)

              CROSS-REFERENCE:  9000010.31^AETOO^MUMPS 
                                1)= I $P(^AUPNVBB(DA,0),U,2)]"",$P(^(0),U,3)]"" S ^AUPNVBB("AE",$P(^AUPNVBB(DA,0),U,2),(9999999-$P(+^AUPNVSIT($P(^AUPNVBB(DA,0),U,3),0),".",1)),X,DA)=""
                                2)= I $P(^AUPNVBB(DA,0),U,2)]"",$P(^(0),U,3)]"" K ^AUPNVBB("AE",$P(^AUPNVBB(DA,0),U,2),(9999999-$P(+^AUPNVSIT($P(^AUPNVBB(DA,0),U,3),0),".",1)),X,DA)


9000010.31,.02PATIENT NAME           0;2 POINTER TO PATIENT/IHS FILE (#9000001) (Required)

              LAST EDITED:      JUN 06, 1996 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDPAT") 

                                UNEDITABLE
              CROSS-REFERENCE:  9000010.31^AC 
                                1)= S ^AUPNVBB("AC",$E(X,1,30),DA)=""
                                2)= K ^AUPNVBB("AC",$E(X,1,30),DA)

              CROSS-REFERENCE:  9000010.31^AATOO^MUMPS 
                                1)= I $P(^AUPNVBB(DA,0),U,3)]"" S ^AUPNVBB("AA",X,+^AUPNVBB(DA,0),(9999999-$P(+^AUPNVSIT($P(^AUPNVBB(DA,0),U,3),0),".",1)),DA)=""
                                2)= I $P(^AUPNVBB(DA,0),U,3)]"" K ^AUPNVBB("AA",X,+^AUPNVBB(DA,0),(9999999-$P(+^AUPNVSIT($P(^AUPNVBB(DA,0),U,3),0),".",1)),DA)

              CROSS-REFERENCE:  9000010.31^AETOO2^MUMPS 
                                1)= I $P(^AUPNVBB(DA,0),U,3)]"" S ^AUPNVBB("AE",X,(9999999-$P(+^AUPNVSIT($P(^AUPNVBB(DA,0),U,3),0),".",1)),+^AUPNVBB(DA,0),DA)=""
                                2)= I $P(^AUPNVBB(DA,0),U,3)]"" K ^AUPNVBB("AE",X,(9999999-$P(+^AUPNVSIT($P(^AUPNVBB(DA,0),U,3),0),".",1)),+^AUPNVBB(DA,0),DA)

              CROSS-REFERENCE:  9000010.31^AOP2^MUMPS 
                                1)= I $P(^AUPNVBB(DA,0),U,3)]"",$P($G(^AUPNVBB(DA,12)),U,2)]"" S ^AUPNVBB("AOP",$P(^AUPNVBB(DA,12),U,2),X,9999999-$P(+^AUPNVSIT($P(^AUPNVBB(DA,0),U,3),0),"."),DA)=""
                                2)= I $P(^AUPNVBB(DA,0),U,3),$P($G(^AUPNVBB(DA,12)),U,2) K ^AUPNVBB("AOP",$P(^AUPNVBB(DA,12),U,2),X,9999999-$P(+^AUPNVSIT($P(^AUPNVBB(DA,0),U,3),0),"."),DA)


9000010.31,.03VISIT                  0;3 POINTER TO VISIT FILE (#9000010) (Required)

              INPUT TRANSFORM:  S DIC("S")="I $P(^(0),U,5)=$P(^AUPNVBB(DA,0),U,2)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
              LAST EDITED:      JUL 09, 1996 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDVSIT") 

              SCREEN:           S DIC("S")="I $P(^(0),U,5)=$P(^AUPNVBB(DA,0),U,2)"
              EXPLANATION:      VISIT MUST BE FOR CURRENT PATIENT
                                UNEDITABLE
              CROSS-REFERENCE:  9000010.31^AD 
                                1)= S ^AUPNVBB("AD",$E(X,1,30),DA)=""
                                2)= K ^AUPNVBB("AD",$E(X,1,30),DA)

              CROSS-REFERENCE:  9000010.31^AA^MUMPS 
                                1)= Q:$P(^AUPNVBB(DA,0),U,2)=""  S ^AUPNVBB("AA",$P(^AUPNVBB(DA,0),U,2),+^AUPNVBB(DA,0),(9999999-$P(+^AUPNVSIT(X,0),".",1)),DA)=""
                                2)= Q:$P(^AUPNVBB(DA,0),U,2)=""  K ^AUPNVBB("AA",$P(^AUPNVBB(DA,0),U,2),+^AUPNVBB(DA,0),(9999999-$P(+^AUPNVSIT(X,0),".",1)),DA)

              CROSS-REFERENCE:  9000010.31^AV10^MUMPS 
                                1)= D ADD^AUPNVSIT
                                2)= D SUB^AUPNVSIT

              CROSS-REFERENCE:  9000010.31^AE^MUMPS 
                                1)= I $P(^AUPNVBB(DA,0),U,2)]"" S ^AUPNVBB("AE",$P(^AUPNVBB(DA,0),U,2),(9999999-$P(+^AUPNVSIT(X,0),".",1)),+^AUPNVBB(DA,0),DA)=""
                                2)= I $P(^AUPNVBB(DA,0),U,2)]"" K ^AUPNVBB("AE",$P(^AUPNVBB(DA,0),U,2),(9999999-$P(+^AUPNVSIT(X,0),".",1)),+^AUPNVBB(DA,0),DA)


9000010.31,.04RESULTS                0;4 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<1) X
              LAST EDITED:      MAR 31, 1997 
              HELP-PROMPT:      Answer must be 1-30 characters in length. 
              DESCRIPTION:
                                This field contains the free text data of the blood bank test.  

              TECHNICAL DESCR:
                                This field contains the free text data of the tes.  Example: POS NEG  A B AB O etc.  


9000010.31,.05ANTIBODY               0;5 POINTER TO FUNCTION FIELD FILE (#61.3)

              LAST EDITED:      MAR 28, 1997 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTABN") 


9000010.31,.06LR ACCESSION NO.       0;6 FREE TEXT (Required)

              INPUT TRANSFORM:  K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>14!($L(X)<7) X
              LAST EDITED:      DEC 08, 2004 
              HELP-PROMPT:      ANSWER MUST BE 7-14 CHARACTERS IN LENGTH 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTACC") 

              CROSS-REFERENCE:  9000010.31^ALR^MUMPS 
                                1)= I $P(^AUPNVBB(DA,0),U,3)]"" S ^AUPNVBB("ALR",$P(^AUPNVBB(DA,0),U,3),X,$P(^AUPNVBB(DA,0),U),DA)=""
                                2)= I $P(^AUPNVBB(DA,0),U,3)]"" K ^AUPNVBB("ALR",$P(^AUPNVBB(DA,0),U,3),X,$P(^AUPNVBB(DA,0),U),DA)

              CROSS-REFERENCE:  9000010.31^ALR0 
                                1)= S ^AUPNVBB("ALR0",$E(X,1,30),DA)=""
                                2)= K ^AUPNVBB("ALR0",$E(X,1,30),DA)


9000010.31,.07BB TEST NAME           0;7 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<2) X
              LAST EDITED:      MAR 31, 1997 
              HELP-PROMPT:      Answer must be 2-30 characters in length. 
              DESCRIPTION:
                                This field contains the blood bank test name used in the lab package.  

              TECHNICAL DESCR:
                                This field contains the blood bank test name used in the lab package.  


9000010.31,1101UNITS                 11;1 FREE TEXT

              UNITS OF MEASURE                                                                                                 
              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<1) X
              LAST EDITED:      DEC 06, 1993 
              HELP-PROMPT:      Answer must be 1-30 characters in length. 
              DESCRIPTION:
                                UNITS OF MEASURE OF THIS PARTICULAR TEST 

              TECHNICAL DESCR:
                                This used to be stored with the results.  APCDALVR Variable = APCDALVR("APCDTUNI") 


9000010.31,1102ORDER                 11;2 NUMBER

              INPUT TRANSFORM:  K:+X'=X!(X>9999999)!(X<1)!(X?.E1"."1N.N) X
              LAST EDITED:      APR 02, 1990 
              HELP-PROMPT:      Type a Number between 1 and 9999999, 0 Decimal Digits 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTORD") 


9000010.31,1103SITE                  11;3 POINTER TO TOPOGRAPHY FIELD FILE (#61)

              INPUT TRANSFORM:  S:$G(BLRLINK)'=1 DIC("S")="I $D(^LAB(60,+^AUPNVBB(DA,0),1,Y))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
              LAST EDITED:      FEB 27, 1997 
              HELP-PROMPT:      Enter site the specimen was taken from for this lab test 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTSTE") 

              SCREEN:           S:$G(BLRLINK)'=1 DIC("S")="I $D(^LAB(60,+^AUPNVBB(DA,0),1,Y))"
              EXPLANATION:      ALLOWS ONLY SITES ENTERED FOR THIS TEST IN FILE 60
              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER


9000010.31,1104REFERENCE LOW         11;4 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<1) X
              LAST EDITED:      DEC 06, 1993 
              HELP-PROMPT:      Answer must be 1-30 characters in length. 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTRFL") 


9000010.31,1105REFERENCE HIGH        11;5 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<1) X
              LAST EDITED:      DEC 06, 1993 
              HELP-PROMPT:      Answer must be 1-30 characters in length. 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTRFH") 


9000010.31,1106THERAPEUTIC LOW       11;6 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<1) X
              LAST EDITED:      DEC 06, 1993 
              HELP-PROMPT:      Answer must be 1-30 characters in length. 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTTHL") 


9000010.31,1107THERAPEUTIC HIGH      11;7 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<1) X
              LAST EDITED:      DEC 06, 1993 
              HELP-PROMPT:      Answer must be 1-30 characters in length. 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTTHH") 


9000010.31,1108SOURCE OF DATA INPUT  11;8 SET

                                '0' FOR NON-LAB; 
                                '1' FOR LAB; 
              LAST EDITED:      MAR 24, 1994 
              HELP-PROMPT:      Entered by software only. 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTSKI") 


9000010.31,1109CURRENT STATUS FLAG   11;9 SET

                                'O' FOR ORDERED; 
                                'A' FOR ACCESSIONED; 
                                'R' FOR RESULTED; 
                                'M' FOR MODIFIED; 
                                'D' FOR DELETED; 
              LAST EDITED:      OCT 02, 1996 

9000010.31,1110LAB TEST COST         11;10 NUMBER

              INPUT TRANSFORM:  S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>9999999)!(X<1) X
              LAST EDITED:      OCT 03, 1996 
              HELP-PROMPT:      Type a Dollar Amount between 1 and 9999999, 2 Decimal Digits 

9000010.31,1111BILLABLE ITEM         11;11 SET

                                '1' FOR YES; 
              LAST EDITED:      OCT 03, 1996 

9000010.31,1112LAB POV               11;12 POINTER TO ICD DIAGNOSIS FILE (#80)

              LAST EDITED:      AUG 13, 1998 

9000010.31,1201COLLECTION DATE AND TIME 12;1 DATE

              INPUT TRANSFORM:  S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      MAR 04, 1993 
              HELP-PROMPT:      Enter date/time spemimen was collected. 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTCDT") 


9000010.31,1202ORDERING PROVIDER     12;2 POINTER TO NEW PERSON FILE (#200)

              INPUT TRANSFORM:  S DIC("S")="I $D(^VA(200,""AK.PROVIDER"",$P($G(^VA(200,+Y,0)),U),+Y))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
              LAST EDITED:      JUN 28, 2000 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTPRV") 

              SCREEN:           S DIC("S")="I $D(^VA(200,""AK.PROVIDER"",$P($G(^VA(200,+Y,0)),U),+Y))"
              EXPLANATION:      Must be a provider.
              CROSS-REFERENCE:  9000010.31^AOP^MUMPS 
                                1)= I $P(^AUPNVBB(DA,0),U,2),$P(^(0),U,3) S ^AUPNVBB("AOP",X,$P(^AUPNVBB(DA,0),U,2),9999999-$P(+^AUPNVSIT($P(^AUPNVBB(DA,0),U,3),0),"."),DA)=""
                                2)= I $P(^AUPNVBB(DA,0),U,2),$P(^(0),U,3) K ^AUPNVBB("AOP",X,$P(^AUPNVBB(DA,0),U,2),9999999-$P(+^AUPNVSIT($P(^AUPNVBB(DA,0),U,3),0),"."),DA)


9000010.31,1203CLINIC                12;3 POINTER TO CLINIC STOP FILE (#40.7)

              LAST EDITED:      APR 29, 1993 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTCLN") 


9000010.31,1204ENCOUNTER PROVIDER    12;4 POINTER TO NEW PERSON FILE (#200)

              INPUT TRANSFORM:  S DIC("S")="I $D(^VA(200,""AK.PROVIDER"",$P($G(^VA(200,+Y,0)),U),+Y))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
              LAST EDITED:      JUN 28, 2000 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTEPR") 

              SCREEN:           S DIC("S")="I $D(^VA(200,""AK.PROVIDER"",$P($G(^VA(200,+Y,0)),U),+Y))"
              EXPLANATION:      Must be a provider.

9000010.31,1208PARENT                12;8 POINTER TO V BLOOD BANK FILE (#9000010.31)

              LAST EDITED:      FEB 28, 1996 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTPNT") 


9000010.31,1209EXTERNAL KEY          12;9 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>20!($L(X)<1) X
              LAST EDITED:      SEP 25, 1996 
              HELP-PROMPT:      Answer must be 1-20 characters in length. 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTEXK") 


9000010.31,1210OUTSIDE PROVIDER NAME 12;10 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<1) X
              LAST EDITED:      SEP 25, 1996 
              HELP-PROMPT:      Answer must be 1-30 characters in length. 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTOPR") 


9000010.31,1211ORDERING DATE         12;11 DATE

              INPUT TRANSFORM:  S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      OCT 28, 2003 

9000010.31,1213ANCILLARY POV         12;13 POINTER TO ICD DIAGNOSIS FILE (#80)

              LAST EDITED:      SEP 19, 2003 

9000010.31,1301COMMENT1              13;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>70!($L(X)<1) X
              LAST EDITED:      SEP 29, 1994 
              HELP-PROMPT:      Answer must be 1-70 characters in length. 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTLC1") 


9000010.31,1302COMMENT2              13;2 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>70!($L(X)<1) X
              LAST EDITED:      SEP 29, 1994 
              HELP-PROMPT:      Answer must be 1-70 characters in length. 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTLC2") 


9000010.31,1303COMMENT3              13;3 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>70!($L(X)<1) X
              LAST EDITED:      SEP 29, 1994 
              HELP-PROMPT:      Answer must be 1-70 characters in length. 
              TECHNICAL DESCR:
                                APCDALVR Variable = APCDALVR("APCDTLC3") 


9000010.31,1401CPT PTR               14;1 POINTER ** TO AN UNDEFINED FILE ** 

              LAST EDITED:      OCT 03, 1996 

9000010.31,1402CPT - BILLABLE ITEMS  14;2 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>240!($L(X)<1) X
              LAST EDITED:      OCT 03, 1996 
              HELP-PROMPT:      Answer must be 1-240 characters in length. 

9000010.31,1601LAB POV               16;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>80!($L(X)<1) X
              LAST EDITED:      NOV 14, 2002 
              HELP-PROMPT:      Answer must be 1-80 characters in length. 


      FILES POINTED TO                      FIELDS

CLINIC STOP (#40.7)               CLINIC (#1203)

FUNCTION FIELD (#61.3)            ANTIBODY (#.05)

ICD DIAGNOSIS (#80)               LAB POV (#1112)
                                  ANCILLARY POV (#1213)

LABORATORY TEST (#60)             LAB TEST (#.01)

NEW PERSON (#200)                 ORDERING PROVIDER (#1202)
                                  ENCOUNTER PROVIDER (#1204)

PATIENT/IHS (#9000001)            PATIENT NAME (#.02)

TOPOGRAPHY FIELD (#61)            SITE (#1103)

V BLOOD BANK (#9000010.31)        PARENT (#1208)

VISIT (#9000010)                  VISIT (#.03)



INPUT TEMPLATE(S):

PRINT TEMPLATE(S):

SORT TEMPLATE(S):

FORM(S)/BLOCK(S):