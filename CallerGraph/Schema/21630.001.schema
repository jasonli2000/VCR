STANDARD DATA DICTIONARY #21630.001 -- VFD PATIENT ENROLLMENT FILE                                                                                                                                                                JUN 17,2014@15:17:17  PAGE 1
STORED IN ^VFD(21630.001,  (1 ENTRY)   SITE: VXVISTA.ORG   UCI: VXVISTA,V13                                                                                                                                                              (VERSION 2011.1.2)   

DATA          NAME                  GLOBAL        DATA
ELEMENT       TITLE                 LOCATION      TYPE
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
This file contains data associated with a specific clinic enrollment.  In the Patient file (#2), ENROLLMENT CLINIC, ENROLLMENT DATA multiple, a new local field was added to point to this file.  


              DD ACCESS: 
              RD ACCESS: 
              WR ACCESS: 
             DEL ACCESS: 
           LAYGO ACCESS: 
           AUDIT ACCESS: 
IDENTIFIED BY: PATIENT (#.02), LOCATION (#.03)[R]

POINTED TO BY: VFD PATIENT CLINIC ENROLL field (#21600) of the ENROLLMENT DATA sub-field (#2.011) of the ENROLLMENT CLINIC sub-field (#2.001) of the PATIENT File (#2) 
               

CROSS
REFERENCED BY: PROGRAM ID(B), PATIENT(C), LOCATION(D), LAST VISIT(E)

INDEXED BY:    PATIENT & LOCATION & ENROLL DATE (AC), PROGRAM ID & PATIENT & LOCATION & ENROLL DATE & PRIMARY DIAG. & DX1 & DX2 & DX3 & DX4 & DX5 & DX6 & DX7 & DX8 & ADMITTING DIAGNOSIS & AUTHORIZED PROVIDER & LAST VISIT (AT), PATIENT & LOCATION &
               PROGRAM ID (BB)


21630.001,.01 PROGRAM ID             0;1 FREE TEXT (Required) (audited)

              INPUT TRANSFORM:  K:$L(X)>10!($L(X)<1) X
              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Answer must be 1-10 characters in length 
              DESCRIPTION:
                                This Field is an identifier that the billing system will provide to link multiple encounter visits together within the billing system.  

              TECHNICAL DESCR:
                                This data is also known as the patient's 'Program ID'.  

              AUDIT:            YES, ALWAYS
              CROSS-REFERENCE:  21630.001^B 
                                1)= S ^VFD(21630.001,"B",$E(X,1,30),DA)=""
                                2)= K ^VFD(21630.001,"B",$E(X,1,30),DA)
                                3)= DO NOT DELETE
                                Index by Program ID 


              RECORD INDEXES:   AT (#825), BB (#801)

21630.001,.02 PATIENT                0;2 POINTER TO PATIENT FILE (#2) (audited)

              LAST EDITED:      SEP 22, 2011 
              DESCRIPTION:
                                Pointer to Patient File 

              AUDIT:            YES, ALWAYS
              CROSS-REFERENCE:  21630.001^C 
                                1)= S ^VFD(21630.001,"C",$E(X,1,30),DA)=""
                                2)= K ^VFD(21630.001,"C",$E(X,1,30),DA)
                                3)= DO NOT DELETE
                                Index by patient name 


              RECORD INDEXES:   AC (#800), AT (#825), BB (#801)

21630.001,.03 LOCATION               0;3 POINTER TO HOSPITAL LOCATION FILE (#44) (Required) (audited)

              LAST EDITED:      SEP 22, 2011 
              DESCRIPTION:
                                This is a pointer to the HOSPITAL LOCATION File (#44).  

              AUDIT:            YES, ALWAYS
              CROSS-REFERENCE:  21630.001^D 
                                1)= S ^VFD(21630.001,"D",$E(X,1,30),DA)=""
                                2)= K ^VFD(21630.001,"D",$E(X,1,30),DA)
                                3)= DO NOT DELETE
                                Index by Clinic 


              RECORD INDEXES:   AC (#800), AT (#825), BB (#801)

21630.001,.04 ENROLL DATE            0;4 DATE (Required) (audited)

              INPUT TRANSFORM:  S %DT="ETXR" D ^%DT S X=$E(Y,1,12) K:Y<1 X
              LAST EDITED:      SEP 22, 2011 
              DESCRIPTION:
                                This is the Date & Time the patient was enrolled in a program.  

              AUDIT:            YES, ALWAYS
              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER

              RECORD INDEXES:   AC (#800), AT (#825)

21630.001,.05 PRIMARY DIAG.          0;5 POINTER TO ICD DIAGNOSIS FILE (#80) (Required) (audited)

              OUTPUT TRANSFORM: S Y(0)=Y S:+Y=Y Y=$P(^ICD9(Y,0),U)_"-"_$P(^ICD9(Y,0),U,3) S:Y="" Y=Y(0)
              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Enter the patient's Primary Diagnosis 
              DESCRIPTION:
                                This is the patient's primary diagnosis.  

              AUDIT:            YES, ALWAYS
              RECORD INDEXES:   AT (#825)

21630.001,.06 DX1                    0;6 POINTER TO ICD DIAGNOSIS FILE (#80) (audited)

              OTHER DIAGNOSIS 1                                                                                                
              OUTPUT TRANSFORM: S Y(0)=Y S:+Y=Y Y=$P(^ICD9(Y,0),U)_"-"_$P(^ICD9(Y,0),U,3) S:Y="" Y=Y(0)
              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Enter an additional diagnosis 
              DESCRIPTION:
                                This diagnosis is additional to the PRIMARY & ADMITTING diagnoses.  

              AUDIT:            YES, ALWAYS
              RECORD INDEXES:   AT (#825)

21630.001,.07 DX2                    0;7 POINTER TO ICD DIAGNOSIS FILE (#80) (audited)

              OTHER DIAGNOSIS 2                                                                                                
              OUTPUT TRANSFORM: S Y(0)=Y S:+Y=Y Y=$P(^ICD9(Y,0),U)_"-"_$P(^ICD9(Y,0),U,3) S:Y="" Y=Y(0)
              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Enter an additional diagnosis 
              DESCRIPTION:
                                This diagnosis is additional to the PRIMARY & ADMITTING diagnoses.  

              AUDIT:            YES, ALWAYS
              RECORD INDEXES:   AT (#825)

21630.001,.08 DX3                    0;8 POINTER TO ICD DIAGNOSIS FILE (#80) (audited)

              OTHER DIAGNOSIS 3                                                                                                
              OUTPUT TRANSFORM: S Y(0)=Y S:+Y=Y Y=$P(^ICD9(Y,0),U)_"-"_$P(^ICD9(Y,0),U,3) S:Y="" Y=Y(0)
              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Enter an additional diagnosis 
              DESCRIPTION:
                                This diagnosis is additional to the PRIMARY & ADMITTING diagnoses.  

              AUDIT:            YES, ALWAYS
              RECORD INDEXES:   AT (#825)

21630.001,.09 DX4                    0;9 POINTER TO ICD DIAGNOSIS FILE (#80) (audited)

              OTHER DIAGNOSIS 4                                                                                                
              OUTPUT TRANSFORM: S Y(0)=Y S:+Y=Y Y=$P(^ICD9(Y,0),U)_"-"_$P(^ICD9(Y,0),U,3) S:Y="" Y=Y(0)
              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Enter an additional diagnosis 
              DESCRIPTION:
                                This diagnosis is additional to the PRIMARY & ADMITTING diagnoses.  

              AUDIT:            YES, ALWAYS
              RECORD INDEXES:   AT (#825)

21630.001,.1  DX5                    0;10 POINTER TO ICD DIAGNOSIS FILE (#80) (audited)

              OTHER DIAGNOSIS 5                                                                                                
              OUTPUT TRANSFORM: S Y(0)=Y S:+Y=Y Y=$P(^ICD9(Y,0),U)_"-"_$P(^ICD9(Y,0),U,3) S:Y="" Y=Y(0)
              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Enter an additional diagnosis 
              DESCRIPTION:
                                This diagnosis is additional to the PRIMARY & ADMITTING diagnoses.  

              AUDIT:            YES, ALWAYS
              RECORD INDEXES:   AT (#825)

21630.001,.11 DX6                    0;11 POINTER TO ICD DIAGNOSIS FILE (#80) (audited)

              OTHER DIAGNOSIS 6                                                                                                
              OUTPUT TRANSFORM: S Y(0)=Y S:+Y=Y Y=$P(^ICD9(Y,0),U)_"-"_$P(^ICD9(Y,0),U,3) S:Y="" Y=Y(0)
              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Enter an additional diagnosis 
              DESCRIPTION:
                                This diagnosis is additional to the PRIMARY & ADMITTING diagnoses.  

              AUDIT:            YES, ALWAYS
              RECORD INDEXES:   AT (#825)

21630.001,.12 DX7                    0;12 POINTER TO ICD DIAGNOSIS FILE (#80) (audited)

              OTHER DIAGNOSIS 7                                                                                                
              OUTPUT TRANSFORM: S Y(0)=Y S:+Y=Y Y=$P(^ICD9(Y,0),U)_"-"_$P(^ICD9(Y,0),U,3) S:Y="" Y=Y(0)
              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Enter an additional diagnosis 
              DESCRIPTION:
                                This diagnosis is additional to the PRIMARY & ADMITTING diagnoses.  

              AUDIT:            YES, ALWAYS
              RECORD INDEXES:   AT (#825)

21630.001,.13 DX8                    0;13 POINTER TO ICD DIAGNOSIS FILE (#80) (audited)

              OTHER DIAGNOSIS 8                                                                                                
              OUTPUT TRANSFORM: S Y(0)=Y S:+Y=Y Y=$P(^ICD9(Y,0),U)_"-"_$P(^ICD9(Y,0),U,3) S:Y="" Y=Y(0)
              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Enter an additional diagnosis 
              DESCRIPTION:
                                This diagnosis is additional to the PRIMARY & ADMITTING diagnoses.  

              AUDIT:            YES, ALWAYS
              RECORD INDEXES:   AT (#825)

21630.001,.14 ADMITTING DIAGNOSIS    0;14 POINTER TO ICD DIAGNOSIS FILE (#80) (Required) (audited)

              OUTPUT TRANSFORM: S Y(0)=Y S:+Y=Y Y=$P(^ICD9(Y,0),U)_"-"_$P(^ICD9(Y,0),U,3) S:Y="" Y=Y(0)
              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Enter the patient's Admitting Diagnosis 
              DESCRIPTION:
                                This is the diagnosis at the time of admission.  

              AUDIT:            YES, ALWAYS
              RECORD INDEXES:   AT (#825)

21630.001,.15 AUTHORIZED PROVIDER    0;15 POINTER TO NEW PERSON FILE (#200) (audited)

              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Enter the provider who authorized the current Primary Dx 
              DESCRIPTION:
                                The provider who authorized the current Primary Diagnosis 

              AUDIT:            YES, ALWAYS
              RECORD INDEXES:   AT (#825)

21630.001,.16 LAST VISIT             0;16 POINTER TO VISIT FILE (#9000010) (audited)

              LAST EDITED:      SEP 22, 2011 
              HELP-PROMPT:      Enter the current or last VISIT for this enrollment. 
              DESCRIPTION:
                                Records the most recent VISIT file entry associated with this enrollment.  

              AUDIT:            YES, ALWAYS
              CROSS-REFERENCE:  21630.001^E 
                                1)= S ^VFD(21630.001,"E",$E(X,1,30),DA)=""
                                2)= K ^VFD(21630.001,"E",$E(X,1,30),DA)
                                Support lookup of enrollment by the patient's most recent visit.  


              RECORD INDEXES:   AT (#825)

21630.001,9.01DISCHARGE DATE          ;  COMPUTED

              MUMPS CODE:       N A,B,CL,DFN,Z S X="",Z=^VFD(21630.001,D0,0),DFN=$P(Z,U,2),CL=$P(Z,U,3),A=$O(^DPT(DFN,"DE","AVFDPGM",CL,D0,0)) I A S B=$O(^(A,0)) I B S X=$P(^DPT(DFN,"DE",A,1,B,0),U,3) I X'="" S X=$TR($$FMTE^XLFDT($E(X,1,12),"5Z"),"@"," "
                                )
              ALGORITHM:        N A,B,CL,DFN,Z S X="",Z=^VFD(21630.001,D0,0),DFN=$P(Z,U,2),CL=$P(Z,U,3),A=$O(^DPT(DFN,"DE","AVFDPGM",CL,D0,0)) I A S B=$O(^(A,0)) I B S X=$P(^DPT(DFN,"DE",A,1,B,0),U,3) I X'="" S X=$TR($$FMTE^XLFDT($E(X,1,12),"5Z"),"@"," "
                                )
              LAST EDITED:      AUG 19, 2011 
              DESCRIPTION:
                                This computed field gets the discharge date from the Patient File Clinic Enrollment Enrollment Data multiple.  



      FILES POINTED TO                      FIELDS

HOSPITAL LOCATION (#44)           LOCATION (#.03)

ICD DIAGNOSIS (#80)               PRIMARY DIAG. (#.05)
                                  DX1 (#.06)
                                  DX2 (#.07)
                                  DX3 (#.08)
                                  DX4 (#.09)
                                  DX5 (#.1)
                                  DX6 (#.11)
                                  DX7 (#.12)
                                  DX8 (#.13)
                                  ADMITTING DIAGNOSIS (#.14)

NEW PERSON (#200)                 AUTHORIZED PROVIDER (#.15)

PATIENT (#2)                      PATIENT (#.02)

VISIT (#9000010)                  LAST VISIT (#.16)


File #21630.001

  Record Indexes:

  AC (#800)    RECORD    REGULAR    IR    SORTING ONLY
      Short Descr:  SORT BY PATIENT,CLINIC,ENROLL DATE
        Set Logic:  S ^VFD(21630.001,"AC",X(1),X(2),X(3),DA)=""
       Kill Logic:  K ^VFD(21630.001,"AC",X(1),X(2),X(3),DA)
       Whole Kill:  K ^VFD(21630.001,"AC")
             X(1):  PATIENT  (21630.001,.02)  (Subscr 1)  (forwards)
             X(2):  LOCATION  (21630.001,.03)  (Subscr 2)  (forwards)
             X(3):  ENROLL DATE  (21630.001,.04)  (Subscr 3)  (forwards)

  AT (#825)    RECORD    MUMPS    I    ACTION
      Short Descr:  Trigger event when changes are made
      Description:  This will record any changes to the file and invoked the subscribing routine to do whatever it wishes with those changes.  It will also create a type of audit log as follows.   This will only be executed upon the set logic.  
                      ^VFD(21630.001,"AT",DA,"A",audit_date_time)=p1^p2^p3^p4^...  where 
                        p1 = DUZ;file_200_ien 
                        pn for n=2,3,4,5,... will equal field#;old_value;new_value 
                           record only those field changes where the old'=new 
        Set Logic:  D ATSET^VFDDGENR
       Kill Logic:  Q
             X(1):  PROGRAM ID  (21630.001,.01)  (forwards)
             X(2):  PATIENT  (21630.001,.02)  (forwards)
             X(3):  LOCATION  (21630.001,.03)  (forwards)
             X(4):  ENROLL DATE  (21630.001,.04)  (forwards)
             X(5):  PRIMARY DIAG.  (21630.001,.05)  (forwards)
             X(6):  DX1  (21630.001,.06)  (forwards)
             X(7):  DX2  (21630.001,.07)  (forwards)
             X(8):  DX3  (21630.001,.08)  (forwards)
             X(9):  DX4  (21630.001,.09)  (forwards)
            X(10):  DX5  (21630.001,.1)  (forwards)
            X(11):  DX6  (21630.001,.11)  (forwards)
            X(12):  DX7  (21630.001,.12)  (forwards)
            X(13):  DX8  (21630.001,.13)  (forwards)
            X(14):  ADMITTING DIAGNOSIS  (21630.001,.14)  (forwards)
            X(15):  AUTHORIZED PROVIDER  (21630.001,.15)  (forwards)
            X(16):  LAST VISIT  (21630.001,.16)  (forwards)

  BB (#801)    RECORD    REGULAR    IR    LOOKUP & SORTING
      Short Descr:  Index by patient/clinic/program id
      Description:  Used primarily to prevent a duplicate enrollment.  
        Set Logic:  S ^VFD(21630.001,"BB",$E(X(1),1,30),X(2),X(3),DA)=""
       Kill Logic:  K ^VFD(21630.001,"BB",$E(X(1),1,30),X(2),X(3),DA)
       Whole Kill:  K ^VFD(21630.001,"BB")
             X(1):  PATIENT  (21630.001,.02)  (Subscr 1)  (forwards)
             X(2):  LOCATION  (21630.001,.03)  (Subscr 2)  (forwards)
             X(3):  PROGRAM ID  (21630.001,.01)  (Subscr 3)  (Len 30)  (forwards)


INPUT TEMPLATE(S):

PRINT TEMPLATE(S):

SORT TEMPLATE(S):

FORM(S)/BLOCK(S):