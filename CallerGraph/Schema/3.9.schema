STANDARD DATA DICTIONARY #3.9 -- MESSAGE FILE                                                                                                                                                                                     MAY 20,2014@15:37:18  PAGE 1
STORED IN ^XMB(3.9,  *** NO DATA STORED YET ***   SITE: PLA.ISC-WASH.MED.VA.GOV   UCI: VISTA,PLA                                                                                                                                              (VERSION 8.0)   

DATA          NAME                  GLOBAL        DATA
ELEMENT       TITLE                 LOCATION      TYPE
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
These messages are the heart of the MailMan system.  


FILE SCREEN (SCR-node) : I $S('$D(DUZ):0,'$D(^XMB(3.9,+Y,0)):0,$P(^(0),U,2)=DUZ:1,$D(^(1,"C",DUZ)):1,$D(^("* (Broadcast to all local user")):1,1:0)

POINTED TO BY: MESSAGE field (#.06) of the FILEGRAM HISTORY File (#1.12) 
               MESSAGE BEING EDITED field (#5) of the MAILBOX File (#3.7) 
               MESSAGE BEING RESPONDED TO field (#7) of the MAILBOX File (#3.7) 
               MESSAGE field (#.01) of the MESSAGE sub-field (#3.702) of the BASKET sub-field (#3.701) of the MAILBOX File (#3.7) 
               MESSAGE field (#2) of the MESSAGES TO BE NEW AT A LATER DATE File (#3.73) 
               ORIGINAL MESSAGE field (#1.35) of the MESSAGE File (#3.9) 
               RESPONSE field (#.01) of the RESPONSE sub-field (#3.9001) of the MESSAGE File (#3.9) 
               MESSAGE IN TRANSIT field (#2) of the MESSAGE STATISTICS File (#4.2999) 
               MESSAGE field (#3) of the CENSUS YEAR sub-field (#45.04) of the PTF File (#45) 
               MESSAGE field (#2) of the PTF RECORD sub-field (#45.831) of the PTF RELEASE File (#45.83) 
               MAIL MSG # field (#.03) of the PTF TRANSACTION REQUEST LOG File (#45.87) 
               UAS E-MESSAGE ID field (#.07) of the BCMA UNABLE TO SCAN LOG File (#53.77) 
               BULLETIN field (#32) of the ORDER ACTIONS sub-field (#100.008) of the ORDER File (#100) 
               MESSAGE ID field (#.01) of the MESSAGES sub-field (#355.3503) of the HMS EXTRACT FILE STATUS File (#355.35) 
               MESSAGE ID field (#.01) of the MESSAGES sub-field (#355.35051) of the ACTIVITY LOG sub-field (#355.3505) of the HMS EXTRACT FILE STATUS File (#355.35) 
               MESSAGE ID field (#.01) of the MESSAGES sub-field (#355.35103) of the HMS RESULT FILE STATUS File (#355.351) 
               MESSAGE ID field (#.01) of the MESSAGES sub-field (#355.35111) of the ACTIVITY LOG sub-field (#355.3511) of the HMS RESULT FILE STATUS File (#355.351) 
               Message-ID field (#7) of the HINQ SUSPENSE File (#395.5) 
               MESSAGE NUMBER field (#65) of the INVOICE TRACKING File (#421.5) 
               MESSAGES TRANSMITTED field (#.01) of the MESSAGES TRANSMITTED sub-field (#458.03) of the TIME & ATTENDANCE RECORDS File (#458) 
               EMAIL ID field (#.17) of the FUNCTIONAL INDEPENDENCE MEASUREMENT RECORD File (#783) 
               MESSAGE NUMBER field (#.13) of the AUDIOMETRIC EXAM DATA File (#509850.9) 
               MESSAGE field (#.02) of the MESSAGE DATE/TIME sub-field (#791810.0201) of the STATION ORDER File (#791810) 
               TRANSMISSION MESSAGE field (#.06) of the TRANSMISSION BATCH File (#791812) 
               EMAIL MSG NUMBER field (#1.02) of the ROES ELIGIBILITY CONFIRMATION File (#791814) 
               

CROSS
REFERENCED BY: INCOMING MESSAGE ID(AI), DELIVERY DATE/TIME(AL), BY WHOM DUZ(AW), SUBJECT(B), LOCAL CREATE DATE(C)

INDEXED BY:    FILTER FORWARD (AF)


3.9,.001      NUMBER                     NUMBER

              A unique number assigned to each message, never reused                                                           
              INPUT TRANSFORM:  K:+X'=X!(X>999999999999999)!(X<0)!(X?.E1"."1N.N) X
              LAST EDITED:      MAR 25, 2002 
              HELP-PROMPT:      Type a Number between 0 and 999999999999999, 0 Decimal Digits 
              DESCRIPTION:      This is the unique number which is assigned to a message at the time it is entered into the system.  Messages are numbered sequentially.  Numbers may be re-used if numbers get too big.  See field 17.1, MAX DIGITS FOR
                                MESSAGE NUMBER in file 4.3, MailMan Site Parameters, for more information.  
                                 
                                Numbers appear in the "Query" listing for the message, as <number>@<domain name>, where <number> is the message number for this message, and <domain name> is the name of the domain, as defined in the file 4.3.  This
                                combination of number and domain name uniquely identifies ALL messages in the mailman network, and editing control is such that no two copies of the message at different domains are different; the message is either
                                identical or missing.  

                                UNEDITABLE

3.9,.01       SUBJECT                0;1 FREE TEXT (Required)

              A short, descriptive title to the message.                                                                       
              INPUT TRANSFORM:  K:X[""""!($A(X)=45) X I $D(X) S X=$$STRIP^XMXUTIL1(X),X=$$MAXBLANK^XMXUTIL1(X) K:$L(X)>65!($L(X)<3) X I $D(X),X["^" S X=$$ENCODEUP^XMXUTIL1(X)
              OUTPUT TRANSFORM: S:Y["~U~" Y=$$DECODEUP^XMXUTIL1(Y)
              LAST EDITED:      MAY 26, 1998 
              HELP-PROMPT:      Answer must be 3-65 characters in length. 
              DESCRIPTION:
                                This is the subject of the message, and is shown whenever the message is displayed.  Leading and trailing blanks are deleted.  Any sequence of 3 or more blanks is reduced to 2 blanks.  

              TECHNICAL DESCR:
                                If the message happens to be a local reply, the message subject will be "R" followed by the message number of the original message for which this is a response.  This text contains ~U~ if the subject contains an up-arrow. 

              DELETE TEST:      1,0)= I 1 W *7,"   DELETION ONLY ALLOWED THROUGH MANAGER 'PURGE'"

              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER

              CROSS-REFERENCE:  3.9^B 
                                1)= S ^XMB(3.9,"B",$E(X,1,30),DA)=""
                                2)= K ^XMB(3.9,"B",$E(X,1,30),DA)


3.9,1         FROM                   0;2 FREE TEXT (Required)

              The User number of who the message is from, or his network name if remote                                        
              INPUT TRANSFORM:  K:$L(X)>70!($L(X)<0) X
              LAST EDITED:      AUG 13, 1997 
              HELP-PROMPT:      Answer must be 0-70 characters in length. 
              DESCRIPTION:      This is who the message is from.  In the case of a local message, this is the internal entry number of the user in the NEW PERSON file.  In the case of a networked message, it is the user's full network address, in the
                                format <user@domain>.  

              TECHNICAL DESCR:
                                In a future patch, the field should be made longer, perhaps to 99.  

                                UNEDITABLE

3.9,1.1       SENDER                 0;4 FREE TEXT

              The person who entered the message, if not the same as FROM                                                      
              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<0) X
              LAST EDITED:      OCT 04, 1985 
              HELP-PROMPT:      ANSWER MUST BE 0-30 CHARACTERS IN LENGTH 
              DESCRIPTION:      If the message is sent by a surrogate, this field holds the surrogate's identity.  
                                 
                                It is displayed on the message header in parentheses, with the text SENDER: preceding the sender's name.  

                                UNEDITABLE

3.9,1.3       CONFIRMATION REQUESTED? 0;5 SET

                                'y' FOR YES; 
                                'n' FOR NO; 
              LAST EDITED:      JUL 28, 1997 
              DESCRIPTION:
                                This specifies whether or not the sender of a message will get an acknowledgement when the message is read by the recipient.  


3.9,1.35      ORIGINAL MESSAGE       0;8 POINTER TO MESSAGE FILE (#3.9)

              Original Message Number response points to                                                                       
              LAST EDITED:      JUL 22, 1988 
              DESCRIPTION:
                                This field is used for responses only.  If this message is a response, this field points to the original message.  


3.9,1.4       SENT DATE/TIME         0;3 DATE

              The date and time the message was sent.                                                                          
              INPUT TRANSFORM:  S %DT="ETXR" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      JUL 30, 1997 
              DESCRIPTION:      This is the date and time at which this message was sent.  It relates to the completion of the sending process, not the beginning, as previous versions did.  Initiation and initial sending can be separated by days, e.g.
                                due to equipment failure or illness of the sender, the time of the first send, rather than the time message editing began, is retained.  

              TECHNICAL DESCR:  In a future patch, as remote messages arrive, their date should be converted from clear text to FM, using CONVERT^XMA32A.  If conversion is not possible, the current date/time should be used.  Currently, the DD to the
                                contrary, the clear text version of the date of the remote message is placed in this field.  


3.9,1.6       PURGE DATE             0;6 DATE

              INPUT TRANSFORM:  S %DT="FEST" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      OCT 25, 2000 
              HELP-PROMPT:      Enter a date in the future when this message should be purged. 
              DESCRIPTION:
                                This message will be set for all recipients to automatically delete on this date.  

              TECHNICAL DESCR:
                                As the message is delivered to each recipient, the AUTOMATIC DELETE DATE for the message in the recipient's basket is set to this purge date.  The recipient is free, of course, to change the AUTOMATIC DELETE DATE.  

              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER


3.9,1.7       MESSAGE TYPE           0;7 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>3!($L(X)<1) X
              LAST EDITED:      APR 22, 2002 
              HELP-PROMPT:      Answer must be 1-3 characters in length. 
              DESCRIPTION:      This field enables MailMan to differentiate among types of messages.  Spooled documents must be handled partially through an interface to the 'spooler'.  Word processing documents are handled differently from ordinary
                                messages.  
                                 
                                This field is set within MailMan to any combination of the valid codes, e.g. "XPB" would indicate a PackMan message which includes a BLOB, and marked by the user for priority delivery.  
                                 
                                 TYPE   MEANING 
                                 D      Document 
                                 S      Spooled Document 
                                 X      DIFROM (PackMan) Installable Message 
                                 O      ODIF Format 
                                 B      BLOB (eg. MIME) contained within 
                                 K      KIDS Distribution 
                                 P      Priority 


3.9,1.8       SCRAMBLE HINT          0;10 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>40!($L(X)<1) X
              LAST EDITED:      FEB 25, 1997 
              HELP-PROMPT:      Answer must be 1-40 characters in length. 
              DESCRIPTION:      A scramble hint is used to suggest to the reader what the scramble password is.  Since the password is not recoverable after it is entered, and since the reader must supply the password in order to read the message, the
                                hint can be a helpful reminder to the reader of the message. 
                                 
                                The hint will be shown to the reader just before the reader is asked to enter the password.  


3.9,1.85      SCRAMBLE KEY           K;E1,200 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>200!($L(X)<3) X
              LAST EDITED:      FEB 25, 1997 
              HELP-PROMPT:      Answer must be 3-20 characters in length. 
              DESCRIPTION:
                                The scramble password is a secret code which must be entered by the reader in order to see the message.  Upper and lower case characters are treated the same.  (The password is not case sensitive.) 

              TECHNICAL DESCR:
                                The key is stored in scrambled form.  First character=1 indicates that scrambling is done in standard bazaries cylinder form.  Other first characters are reserved.  

                                UNEDITABLE

3.9,1.95      CLOSED MESSAGE?        0;9 SET

                                                                                                                               
                                'y' FOR YES; 
                                'n' FOR NO; 
              LAST EDITED:      APR 19, 1985 
              HELP-PROMPT:      If closed, message may not be forwarded or copied by recipients. 
              DESCRIPTION:
                                This field, if set to 'yes', means that recipients may not forward or copy the message.  


3.9,1.96      CONFIDENTIAL?          0;11 SET

                                'y' FOR YES; 
                                'n' FOR NO; 
              LAST EDITED:      APR 19, 1985 
              HELP-PROMPT:      If confidential, surrogates may not read message. 
              DESCRIPTION:
                                This field, if set to "yes", means that surrogates of the recipients may not read this message.  


3.9,1.97      INFORMATION ONLY?      0;12 SET

                                'y' FOR YES; 
                                'n' FOR NO; 
              LAST EDITED:      FEB 10, 1986 
              HELP-PROMPT:      If "YES", the message will be considered "INFORMATION ONLY" for all recipients. 
              DESCRIPTION:      This field, if set to "YES", will cause all recipients to be considered "INFORMATION ONLY", which disables responses to the message. 
                                 
                                If a sender wishes to individually restrict responses, "INFO:" before the recipient's names will restrict their responses.  
                                 
                                Messages which are broadcast (by naming a recipient "*"), are automatically set to INFORMATION ONLY.  


3.9,2         RECIPIENT              1;0 Multiple #3.91 (Add New Entry without Asking)

              DESCRIPTION:      This is a list of all recipients of this message.  MailMan automatically tracks each recipient's progress through the response chain, when they last read it, who forwarded or copied the message, etc.  This information is
                                displayed with the Query option after reading the message.  


3.91,.01        RECIPIENT              0;1 FREE TEXT (Multiply asked)

                The recipient user number or network address                                                                   
                INPUT TRANSFORM:  K:$L(X)>85!($L(X)<1) X
                LAST EDITED:      JUL 30, 1997 
                HELP-PROMPT:      Answer must be 1-85 characters in length. 
                DESCRIPTION:
                                  The name of a recipient of this message.  

                TECHNICAL DESCR:
                                  In a future patch, the field should be lengthened, perhaps to 99.  

                                  UNEDITABLE
                CROSS-REFERENCE:  3.91^C 
                                  1)= S ^XMB(3.9,DA(1),1,"C",$E(X,1,30),DA)=""
                                  2)= K ^XMB(3.9,DA(1),1,"C",$E(X,1,30),DA)


3.91,1          LAST RESPONSE READ     0;2 NUMBER

                Last response read, if this is a shared response message.                                                      
                INPUT TRANSFORM:  K:+X'=X!(X>99999)!(X<0)!(X?.E1"."1N.N) X
                LAST EDITED:      JUL 28, 1997 
                HELP-PROMPT:      Type a Number between 0 and 99999, 0 Decimal Digits 
                DESCRIPTION:      The last response which this recipient read.  
                                   
                                  It actually points into 3.9001, the Response multiple for this message.  


3.91,2          LAST READ DATE/TIME    0;3 DATE

                Date/Time message was last read by recipient                                                                   
                INPUT TRANSFORM:  S %DT="ETXR" D ^%DT S X=Y K:Y<1 X
                LAST EDITED:      JUL 30, 1997 
                DESCRIPTION:
                                  The date and time this recipient last read this message.  


3.91,3          REMOTE MESSAGE ID      0;4 FREE TEXT

                The identifier of the message as accepted by the remote site                                                   
                INPUT TRANSFORM:  K:$L(X)>45!($L(X)<3) X
                LAST EDITED:      JUL 28, 1997 
                HELP-PROMPT:      Answer must be 3-45 characters in length. 
                DESCRIPTION:
                                  The identifier of the message at the remote location.  Format: message ID@site 

                TECHNICAL DESCR:
                                  In a future patch, this field should be lengthened, perhaps to 110 chars.  


3.91,4          TRANSMISSION DATE/TIME 0;5 DATE

                THE DATE/TIME A REMOTE MESSAGE WAS SENT                                                                        
                INPUT TRANSFORM:  S %DT="ETXR" D ^%DT S X=Y K:Y<1 X
                LAST EDITED:      JUL 30, 1997 
                DESCRIPTION:
                                  The date and time the remote message was transmitted.  


3.91,5          STATUS                 0;6 FREE TEXT

                Any error messages or comments by the receiver, if not delivered                                               
                INPUT TRANSFORM:  K:$L(X)>30!($L(X)<1) X
                LAST EDITED:      JAN 20, 1984 
                HELP-PROMPT:      ANSWER MUST BE 1-30 CHARACTERS IN LENGTH 
                DESCRIPTION:      This field holds the status of the recipient, if the recipient is other than a local user.  If this is a device, the status is "Awaiting Device" until the device has printed the message.  If this is a server, the status
                                  will be "Awaiting Server" until the server has read the message.  In either of the above cases, the status becomes "done" when the process is complete, and "Last read" field describes when the process was complete.  
                                   
                                  If the recipient is a remote user, the status is "awaiting transmission" and the Path field names the queue in which the message is waiting.  When the message has been sent, the Transmission date is set, the remote
                                  message ID is set to the other domain's message number (providing bi-directional linkage of messages), and the Path field is cleared.  


3.91,6          PATH                   0;7 POINTER TO DOMAIN FILE (#4.2)

                LAST EDITED:      SEP 20, 1992 
                DESCRIPTION:
                                  This field points to the queue in which this message resides.  After transmission, the REMOTE MESSAGE ID field holds the message number and site to which the message was transmitted (which may be only a relay point).  

                CROSS-REFERENCE:  3.91^AQUEUE 
                                  1)= S ^XMB(3.9,DA(1),1,"AQUEUE",$E(X,1,30),DA)=""
                                  2)= K ^XMB(3.9,DA(1),1,"AQUEUE",$E(X,1,30),DA)
                                  This cross reference makes it possible for network mail transmissions to immediately find the recipients to transmit a message to.  



3.91,6.5        TYPE OF RECIPIENT      T;1 SET

                                  'C' FOR cc; 
                                  'I' FOR Info; 
                LAST EDITED:      AUG 11, 1997 
                DESCRIPTION:      This field indicates what type of recipient this is.  
                                   
                                  CC:  indicates that the recipient is being sent a copy, but is not the primary recipient.  He may reply.  
                                   
                                  INFO: indicates that the recipient may not reply to the message; the message is being transmitted to him for information purposes only.  
                                   
                                  These flags are set by the "Send to:" prompt by including them before a recipient name.  "CC:JONES" would put JONES on the CC: list.  


3.91,6.6        APPROVAL               T;2 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>65!($L(X)<1) X
                LAST EDITED:      NOV 30, 1984 
                HELP-PROMPT:      ANSWER MUST BE 1-65 CHARACTERS IN LENGTH 
                DESCRIPTION:
                                  This field is set whenever the  the recipient is named as a THRU: type, and issues the approval command after reading it.  


3.91,7          TERMINATION DATE       D;1 DATE

                INPUT TRANSFORM:  S %DT="ET" D ^%DT S X=Y K:Y<1 X
                LAST EDITED:      APR 24, 1984 
                DESCRIPTION:      This field, if set, inhibits MailMan from sending future replies to this message, allowing him to "drop out" of a conversation.  This is accomplished with the "Terminate" option.  
                                   
                                  This field is displayed whenever a recipient queries the message.  The drop-outs will have the notation "Terminated: mm/dd/yy" in their status line.  


3.91,8          FORWARDED BY           F;1 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>110!($L(X)<1) X
                LAST EDITED:      JUL 28, 1997 
                HELP-PROMPT:      Answer must be 1-110 characters in length. 
                DESCRIPTION:
                                  When a message is forwarded to another user, this field names the person who did the forwarding, along with the date and time that this was done.  It is displayed in the query option after reading.  

                                  UNEDITABLE

3.91,8.01       FORWARDED BY (XMDUZ)   F;2 POINTER TO NEW PERSON FILE (#200)

                LAST EDITED:      JUL 28, 1997 
                HELP-PROMPT:      Who forwarded the message to this recipient? 
                DESCRIPTION:
                                  This field uses the XMDUZ variable to identify the user who forwarded the message.  


3.91,8.02       FWD TYPE               F;3 SET

                                  'F' FOR Filter-Forward; 
                                  'A' FOR Auto-Forward; 
                                  'R' FOR Regular-Forward; 
                LAST EDITED:      NOV 28, 2001 
                HELP-PROMPT:      What kind of forwarding? 
                DESCRIPTION:      Regular-Forward - A user simply forwarded this message to the recipient in the .01 field.  This is the default, if this field is null.  
                                   
                                  Auto-Forward - A user has a forwarding address listing the recipient in the .01 field.  This message was sent to the user and then automatically forwarded to the recipient.  
                                   
                                  Filter-Forward - A user has an active message filter listing the recipient in the .01 field as a "forward to" person.  This message was sent to the user and then automatically forwarded to the recipient during message
                                  delivery.  


3.91,8.03       FWD BY ORIGINAL        F;4 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>110!($L(X)<1) X
                LAST EDITED:      NOV 28, 2001 
                HELP-PROMPT:      Answer must be 1-110 characters in length. 
                DESCRIPTION:
                                  This field is only used if FWD TYPE is Auto-Forward.  This field lists the original user (and possibly the user's surrogate) who forwarded the message to the user with the forwarding address.  


3.91,8.04       FWD TYPE ORIGINAL      F;5 SET

                                  'F' FOR Filter-Forward; 
                                  'R' FOR Regular-Forward; 
                LAST EDITED:      NOV 28, 2001 
                HELP-PROMPT:      What kind of forwarding, originally? 
                DESCRIPTION:      This field is only used if FWD TYPE is Auto-Forward.  This field reveals how the message was forwarded to the user who had the forwarding address listing the recipient in the .01 field.  
                                   
                                  Regular-Forward - A user simply forwarded this message to the user with the forwarding address.  This is the default, if this field is null.  
                                   
                                  Filter-Forward - A user has an active message filter listing the user with the forwarding address as a "forward to" person.  This message was sent to the user and then automatically forwarded to the user during message
                                  delivery.  
                                   
                                  Note that Auto-Forward is not a possibility, because Auto-Forward is allowed only to remote recipients or to devices or servers.  


3.91,8.5        COPIED DATE/TIME       C;1 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>15!($L(X)<1) X
                LAST EDITED:      APR 22, 2002 
                HELP-PROMPT:      Answer must be 1-15 characters in length. 
                DESCRIPTION:
                                  When a message is copied by a user, this field indicates the date and time at which this was done.  It is displayed in the query option after reading the message.  

                TECHNICAL DESCR:  Before patch XM*7.1*110, this field was in external format.  After that patch, this field is in internal FileMan format.  The data have not been changed, so you may see either format, depending on when the message was
                                  copied.  


3.91,9          NETWORK TRANSMISSION TIME 0;8 NUMBER

                INPUT TRANSFORM:  K:+X'=X!(X>999999)!(X<0)!(X?.E1"."1N.N) X
                LAST EDITED:      FEB 22, 1988 
                HELP-PROMPT:      Type a Number between 0 and 999999, 0 Decimal Digits 
                DESCRIPTION:
                                  This field records the elapsed time (in seconds) during a network transmission.  

                                  UNEDITABLE

3.91,10         PRIORITY RESPONSES?    0;9 SET

                                  '0' FOR YES; 
                                  '1' FOR NO; 
                LAST EDITED:      JUL 28, 1997 
                DESCRIPTION:      This field overrides the MESSAGE TYPE field in the zero node of the message, but only if it contains a "P".  In this way, some recipients can keep receiving responses to a 'Priority Message' as priority mail, while 
                                  others may choose not to.  One cannot, however, force the responses of an ordinary message to be delivered as 'Priority Mail'.  


3.91,11         FIRST READ DATE/TIME   0;10 DATE

                INPUT TRANSFORM:  S %DT="ETXR" D ^%DT S X=Y K:Y<1 X
                LAST EDITED:      JUL 30, 1997 
                DESCRIPTION:
                                  Into this field is set the date and time that a message was first seen by the recipient.  


3.91,12         SURROGATE READER       S;1 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>35!($L(X)<3) X
                LAST EDITED:      APR 03, 1996 
                HELP-PROMPT:      Answer must be 3-35 characters in length. 
                DESCRIPTION:
                                  This is the name of the surrogate who last read this message.  


3.91,13         FAX RECIPIENT          0;11 POINTER ** TO AN UNDEFINED FILE ** 

                LAST EDITED:      FEB 11, 1997 
                HELP-PROMPT:      Enter the fax recipient 
                DESCRIPTION:      When the message is addressed to a fax recipient, this field points to the fax rolodex file.  After the message is handed off to the fax software, the pointer in this field is deleted and the Fax ID field is set to the
                                  fax ID number assigned to it by the fax software.  

                CROSS-REFERENCE:  3.91^AFAX 
                                  1)= S ^XMB(3.9,DA(1),1,"AFAX",$E(X,1,30),DA)=""
                                  2)= K ^XMB(3.9,DA(1),1,"AFAX",$E(X,1,30),DA)
                                  This cross reference makes it possible for MailMan to immediately find the recipients to fax a message to. 



3.91,14         FAX ID                 0;12 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>14!($L(X)<1) X
                LAST EDITED:      FEB 11, 1997 
                HELP-PROMPT:      Answer must be 1-14 characters in length. 
                DESCRIPTION:
                                  This is the fax ID as assigned by the fax software (AKF*).  


3.91,15         FILTER FORWARD         0;13 NUMBER

                INPUT TRANSFORM:  K:+X'=X!(X>999)!(X<0)!(X?.E1"."1N.N) X
                LAST EDITED:      OCT 17, 2000 
                HELP-PROMPT:      Type a Number between 0 and 999, 0 Decimal Digits 
                DESCRIPTION:      This is the IEN of the user's filter which was activated during message delivery.  The filter indicates that this message should be forwarded to the addressees listed in the FORWARD TO multiple of the activated filter.  
                                   
                                  If this field is set to zero, the message has been forwarded.  

                TECHNICAL DESCR:  When this field is set to a positive number (the IEN of the user's activated filter), it causes the whole-file "AF" xref to be set.  
                                   
                                  Routine ^XMTDT checks for the existence of the "AF" xref.  It will do the actual forwarding of the message.  Once it finishes forwarding, it will set this field to zero, which will kill the xref and won't reset it.  
                                   
                                  If the field is null, filter forwarding has not yet occurred for this message for this user.  
                                   
                                  If the field is not null, it means that the message has already been (or is scheduled to be) filter forwarded once for this user, and should not be filter forwarded again for this user.  

                FIELD INDEX:      AF (#43)    REGULAR    IR    SORTING ONLY    WHOLE FILE (#3.9)
                    Short Descr:  See Technical Description
                      Set Logic:  S ^XMB(3.9,"AF",X,DA(1),DA)=""
                       Set Cond:  S X=(X>0)
                     Kill Logic:  K ^XMB(3.9,"AF",X,DA(1),DA)
                     Whole Kill:  K ^XMB(3.9,"AF")
                           X(1):  FILTER FORWARD  (3.91,15)  (Subscr 1)  (forwards)




3.9,3         TEXT                   2;0   WORD-PROCESSING #3.92

              DESCRIPTION:
                                This is the actual text of the message.  It is stored without the wrap-around logic, in a line-by-line format.  


3.9,8         RESPONSE               3;0 POINTER Multiple #3.9001 (Add New Entry without Asking)

              LIST OF RESPONSES TO THIS MESSAGE                                                                                
              DESCRIPTION:
                                This is a list of the responses to the message.  Each response is a separate message, with a subject of "R" followed by this response number.  


3.9001,.01      RESPONSE               0;1 POINTER TO MESSAGE FILE (#3.9) (Multiply asked)

                This is a list of the responses to this message.                                                               
                LAST EDITED:      OCT 04, 1985 
                DESCRIPTION:
                                  This is a response to this message.  

                                  UNEDITABLE



3.9,9         INCOMING MESSAGE ID    5;1 FREE TEXT

              INPUT TRANSFORM:  K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>110!($L(X)<2) X
              LAST EDITED:      FEB 18, 1999 
              HELP-PROMPT:      Answer must be 2-110 characters in length. 
              DESCRIPTION:      If this is a message which has been received from a remote site, its Message ID, as contained in the message header, is stored here.  
                                 
                                Its format is usually <message ID@domain name>.  

                                UNEDITABLE
              CROSS-REFERENCE:  3.9^AI^MUMPS 
                                1)= I X["@",$L($P(X,"@",1)),$L($P(X,"@",2)) S ^XMBX(3.9,"AI",$E($P(X,"@",2),1,64),$E($P(X,"@",1),1,64),DA)=DT
                                2)= Q
                                This cross reference keeps track of messages that have already been received from other sites.  
                                 
                                This index is used to retrieve remote messages which have been transmitted from other domains.  For example, if message 123 from loma-linda has been sent to another site, that other site could inquire against message ID
                                "loma-linda@123", to find out if the message had been received yet.  
                                 
                                This index is also used to prevent messages from looping around the network.  The MailMan receiver will not allow the same message to be received twice at the same site.  



3.9,9.5       IN REPLY TO REMOTE MESSAGE ID IN;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>110!($L(X)<2) X
              LAST EDITED:      JUL 28, 1997 
              HELP-PROMPT:      Answer must be 2-110 characters in length. 
              DESCRIPTION:
                                When a user responds to a message from a remote user, the INCOMING MESSAGE ID (field 9) of the original message is copied and placed here.  Its format is <domain@message id>.  


3.9,10        ADDRESSED TO           6;0 Multiple #3.911 (Add New Entry without Asking)

              DESCRIPTION:      There are two parts to addressing a message.  The first part occurs when the user enters the 'names' (addresses) to which the message will be sent.  The second part occurs when Mail Groups are 'Expanded'.  The 'names' the 
                                user enters will be recorded here.  The expanded list is in a multiple titled 'Recipients'.  Old messages may not have 'ADDRESSED TO' data if they were originated before MailMan recorded these two pieces of data
                                separately.  


3.911,.01       ADDRESSED TO           0;1 FREE TEXT (Multiply asked)

                INPUT TRANSFORM:  K:$L(X)>99!($L(X)<1) X
                LAST EDITED:      DEC 03, 1991 
                HELP-PROMPT:      Enter the address of a local or remote person, group, device, or server. 
                DESCRIPTION:
                                  Into this field is recorded the way that a message was addressed.  

                CROSS-REFERENCE:  3.911^B 
                                  1)= S ^XMB(3.9,DA(1),6,"B",$E(X,1,30),DA)=""
                                  2)= K ^XMB(3.9,DA(1),6,"B",$E(X,1,30),DA)


3.911,1         TYPE OF RECIPIENT      0;2 SET

                                  'C' FOR cc; 
                                  'I' FOR Info; 
                LAST EDITED:      MAY 16, 1997 
                DESCRIPTION:
                                  Indicates the type of recipient.  




3.9,14        LATER DELIVERY TO      7;0 Multiple #3.914


3.914,.01       LATER DELIVERY TO      0;1 FREE TEXT (Multiply asked)

                INPUT TRANSFORM:  K:$L(X)>99!($L(X)<1) X
                LAST EDITED:      MAY 16, 1997 
                HELP-PROMPT:      Answer must be 1-99 characters in length. 
                DESCRIPTION:
                                  This is the local or network address of the person to whom to deliver the message at a later date. 

                CROSS-REFERENCE:  3.914^B 
                                  1)= S ^XMB(3.9,DA(1),7,"B",$E(X,1,30),DA)=""
                                  2)= K ^XMB(3.9,DA(1),7,"B",$E(X,1,30),DA)


3.914,1         TYPE OF RECIPIENT      0;2 SET

                                  'C' FOR cc; 
                                  'I' FOR Info; 
                LAST EDITED:      MAY 16, 1997 
                DESCRIPTION:
                                  Indicates the type of recipient when the message is delivered later.  


3.914,2         BY WHOM DUZ            0;3 POINTER TO NEW PERSON FILE (#200) (Required)

                LAST EDITED:      MAY 15, 1997 
                DESCRIPTION:
                                  This is the DUZ of the person who scheduled the delivery.  

                CROSS-REFERENCE:  3.9^AW 
                                  1)= S ^XMB(3.9,"AW",$E(X,1,30),DA(1),DA)=""
                                  2)= K ^XMB(3.9,"AW",$E(X,1,30),DA(1),DA)
                                  This xref will help us find messages which have been scheduled for later delivery by certain users.  



3.914,3         BY WHOM TEXT           0;4 FREE TEXT (Required)

                INPUT TRANSFORM:  K:$L(X)>99!($L(X)<1) X
                LAST EDITED:      MAY 15, 1997 
                HELP-PROMPT:      Answer must be 1-99 characters in length. 
                DESCRIPTION:
                                  This is the name or remote address of the person who scheduled the delivery.  


3.914,4         DELIVERY DATE/TIME     0;5 DATE (Required)

                INPUT TRANSFORM:  S %DT="EST" D ^%DT S X=Y K:Y<1 X
                LAST EDITED:      MAY 15, 1997 
                HELP-PROMPT:      When do you want the message delivered to this recipient? 
                DESCRIPTION:
                                  Indicates when the message is to be delivered.  

                CROSS-REFERENCE:  3.9^AL 
                                  1)= S ^XMB(3.9,"AL",$E(X,1,30),DA(1),DA)=""
                                  2)= K ^XMB(3.9,"AL",$E(X,1,30),DA(1),DA)
                                  Helps the 'later' delivery task to find messages which should be delivered later to certain recipients.  





3.9,21        DELIVERY BASKET        .5;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<2) X
              LAST EDITED:      MAY 13, 1998 
              HELP-PROMPT:      Answer must be 2-30 characters in length. 
              DESCRIPTION:
                                The Delivery Basket is the basket into which the message will be delivered for each recipient.  It overrides any filters.  


3.9,31        LOCAL CREATE DATE      .6;1 DATE

              INPUT TRANSFORM:  S %DT="EX" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      SEP 17, 1998 
              HELP-PROMPT:      Enter the date this message was created. 
              DESCRIPTION:
                                This is the date this message was created and added to the message file.  It is used, via the "C" xref, to select messages for purging.  

              CROSS-REFERENCE:  3.9^C 
                                1)= S ^XMB(3.9,"C",$E(X,1,30),DA)=""
                                2)= K ^XMB(3.9,"C",$E(X,1,30),DA)
                                This xref is used by the date purge and by the unreferenced messages purge.  



3.9,41        ENVELOPE FROM          .7;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>99!($L(X)<1) X
              LAST EDITED:      OCT 15, 1998 
              HELP-PROMPT:      Answer must be 1-99 characters in length. 
              DESCRIPTION:
                                This is the 'from' as stated in the message envelope on an incoming network message.  HELO ...  MAIL FROM:<envelope from> RCPT TO: ...  


3.9,2005      OBJECTS - OTHER BODY PARTS 2005;0 POINTER Multiple #3.92005

              DESCRIPTION:
                                Pointers to the Object file are stored here as attachments to multimedia messages.  

              TECHNICAL DESCR:
                                The pointers in this field point at the OBJECT file (2005).  


3.92005,.01     OBJECTS - OTHER BODY PARTS 0;1 POINTER TO IMAGE FILE (#2005) (Multiply asked)

                LAST EDITED:      MAR 19, 1992 
                DESCRIPTION:
                                  Pointers to the Object file are stored here as attachments to multimedia messages.  

                CROSS-REFERENCE:  3.92005^B 
                                  1)= S ^XMB(3.9,DA(1),2005,"B",$E(X,1,30),DA)=""
                                  2)= K ^XMB(3.9,DA(1),2005,"B",$E(X,1,30),DA)





      FILES POINTED TO                      FIELDS

DOMAIN (#4.2)                     RECIPIENT:PATH (#6)

IMAGE (#2005)                     OBJECTS - OTHER BODY PARTS:OBJECTS - OTHER BODY PARTS (#.01)

MESSAGE (#3.9)                    ORIGINAL MESSAGE (#1.35)
                                  RESPONSE:RESPONSE (#.01)

NEW PERSON (#200)                 RECIPIENT:FORWARDED BY (XMDUZ) (#8.01)
                                  LATER DELIVERY TO:BY WHOM DUZ (#2)



INPUT TEMPLATE(S):

PRINT TEMPLATE(S):

SORT TEMPLATE(S):

FORM(S)/BLOCK(S):