STANDARD DATA DICTIONARY #414.06 -- IFCAP/ECMS TRANSACTION FILE                                                                                                                                                                    APR 3,2014@10:25:20  PAGE 1
STORED IN ^PRCV(414.06,  *** NO DATA STORED YET ***   SITE: PLA.ISC-WASH.DOMAIN.EXT   UCI: VISTA,PLA                                                                                                                                          (VERSION 5.1)   

DATA          NAME                  GLOBAL        DATA
ELEMENT       TITLE                 LOCATION      TYPE
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
This file is designed to hold the various types of transactions that support communication for the IFCAP and the Electronic Contract Management System (eCMS) interface.  Reports from this file will be used by the IFCAP users to follow the interface
activity to assure that communication with the eCMS vendor portal is timely and effective, and to provide contact information if needed.  



CROSS
REFERENCED BY: EVENT DATE(AED), SUB-STATION(ASB), STATION(ASN), EVENT TYPE(ATY), IFCAP REFERENCE NUMBER(B)

INDEXED BY:    ECMS EMAIL (ACONTACT), IFCAP REFERENCE NUMBER (ACP), ECMS EMAIL (AUNQEC), IFCAP REFERENCE NUMBER (AUNQFCP)


414.06,.01    IFCAP REFERENCE NUMBER 0;1 FREE TEXT (Required)

              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
              LAST EDITED:      JUN 20, 2013 
              HELP-PROMPT:      Answer must be 3-30 characters in length. 
              DESCRIPTION:      The unique IFCAP reference number for this transaction.  For transactions involving purchase requests (2237) this will be the text value of the Control Point Activity Transaction Number needed by the Electronic Contract
                                Management System (eCMS).  

              CROSS-REFERENCE:  414.06^B 
                                1)= S ^PRCV(414.06,"B",$E(X,1,30),DA)=""
                                2)= K ^PRCV(414.06,"B",$E(X,1,30),DA)

              FIELD INDEX:      ACP (#978)    REGULAR    IR    SORTING ONLY
                  Short Descr:  Fund control point
                  Description:  Index uses only the fund control point portion of the reference number.  
                    Set Logic:  S ^PRCV(414.06,"ACP",$E(X,1,30),DA)=""
                   Kill Logic:  K ^PRCV(414.06,"ACP",$E(X,1,30),DA)
                   Whole Kill:  K ^PRCV(414.06,"ACP")
                         X(1):  IFCAP REFERENCE NUMBER  (414.06,.01)  (Subscr 1)  (Len 30)  (forwards)
                                  Transform (Storage):  S X=$P(X,"-",4)

              FIELD INDEX:      AUNQFCP (#1118)    REGULAR    IR    SORTING ONLY
                  Short Descr:  List of all unique FCPs.
                  Description:  Index uses only the fund control point portion of the reference number.  The Set Condition ensures that only one instance of any fund control point is in the index.  
                    Set Logic:  S ^PRCV(414.06,"AUNQFCP",$E(X,1,30),DA)=""
                     Set Cond:  S X=$D(^PRCV(414.06,"AUNQFCP",X))'=10
                   Kill Logic:  K ^PRCV(414.06,"AUNQFCP",$E(X,1,30),DA)
                   Whole Kill:  K ^PRCV(414.06,"AUNQFCP")
                         X(1):  IFCAP REFERENCE NUMBER  (414.06,.01)  (Subscr 1)  (Len 30)  (forwards)
                                  Transform (Storage):  S X=$P(X,"-",4)


414.06,.02    EXTERNAL REFERENCE NUMBER 0;2 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>10!($L(X)<1) X
              LAST EDITED:      MAY 11, 2012 
              HELP-PROMPT:      Answer must be 1-10 characters in length. 
              DESCRIPTION:
                                The unique Electronic Contract Management System (eCMS) identifier ActionUID, which is generated by eCMS and returned to IFCAP when the 2237 is imported into eCMS.  


414.06,.03    TRANSACTION STATUS     0;4 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>40!($L(X)<2) X
              LAST EDITED:      MAY 21, 2012 
              HELP-PROMPT:      Answer must be 2-40 characters in length. 
              DESCRIPTION:
                                The text of the most recently filed transaction event type.  


414.06,1      REQUEST RECORD         0;3 POINTER TO CONTROL POINT ACTIVITY FILE (#410) (Required)

              LAST EDITED:      MAY 11, 2012 
              HELP-PROMPT:      If this transaction originated from IFCAP user actions, enter the 2237 transaction number associated with that action. 
              DESCRIPTION:
                                The 2237 document associated with this transaction.  


414.06,10     EVENT                  1;0 DATE Multiple #414.061 (Add New Entry without Asking)

              DESCRIPTION:
                                This multiple contains the data specific to individual transaction events.  


414.061,.01     EVENT DATE             0;1 DATE (Required)

                INPUT TRANSFORM:  S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
                LAST EDITED:      JUL 26, 2012 
                HELP-PROMPT:      This is the date/time the event occurred. 
                DESCRIPTION:
                                  Date of messaging event.  

                CROSS-REFERENCE:  414.061^B 
                                  1)= S ^PRCV(414.06,DA(1),1,"B",$E(X,1,30),DA)=""
                                  2)= K ^PRCV(414.06,DA(1),1,"B",$E(X,1,30),DA)

                CROSS-REFERENCE:  414.06^AED 
                                  1)= S ^PRCV(414.06,"AED",$E(X,1,30),DA(1),DA)=""
                                  2)= K ^PRCV(414.06,"AED",$E(X,1,30),DA(1),DA)
                                  File wide Event Date for reporting.  



414.061,.02     EVENT TYPE             0;2 POINTER TO IFCAP/ECMS EVENT TYPE FILE (#414.07) (Required)

                LAST EDITED:      FEB 20, 2013 
                HELP-PROMPT:      Select the event type. 
                DESCRIPTION:
                                  The type of message associated with this transaction event.  

                CROSS-REFERENCE:  414.06^ATY 
                                  1)= S ^PRCV(414.06,"ATY",$E(X,1,30),DA(1),DA)=""
                                  2)= K ^PRCV(414.06,"ATY",$E(X,1,30),DA(1),DA)
                                  File wide to assist with sorting event types.  



414.061,.03     HL7 MESSAGE ID         0;3 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>30!($L(X)<2) X
                LAST EDITED:      JUN 13, 2012 
                HELP-PROMPT:      Answer must be 2-30 characters in length. 
                DESCRIPTION:
                                  The unique ID of the HL7 Application message.  


414.061,1       STATION                1;1 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>6!($L(X)<2) X
                LAST EDITED:      JUN 20, 2012 
                HELP-PROMPT:      Answer must be 2-6 characters in length. 
                DESCRIPTION:
                                  The number of the primary station associated with this transaction event.  

                CROSS-REFERENCE:  414.06^ASN 
                                  1)= S ^PRCV(414.06,"ASN",$E(X,1,30),DA(1),DA)=""
                                  2)= K ^PRCV(414.06,"ASN",$E(X,1,30),DA(1),DA)
                                  File wide on Station for reporting.  



414.061,2       SUB-STATION            1;2 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>6!($L(X)<2) X
                LAST EDITED:      JUL 06, 2012 
                HELP-PROMPT:      Answer must be 2-6 characters in length. 
                DESCRIPTION:
                                  The number of the substation facility associated with this transaction event.  

                CROSS-REFERENCE:  414.06^ASB 
                                  1)= S ^PRCV(414.06,"ASB",$E(X,1,30),DA(1),DA)=""
                                  2)= K ^PRCV(414.06,"ASB",$E(X,1,30),DA(1),DA)
                                  File wide to facilitate use of Substation data 



414.061,3       IFCAP USER             1;3 POINTER TO NEW PERSON FILE (#200)

                LAST EDITED:      JUN 13, 2012 
                HELP-PROMPT:      Select the IFCAP user. 
                DESCRIPTION:
                                  The IFCAP user associated with the generation of this outbound transaction event.  


414.061,5       ECMS PHONE             1;5 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>30!($L(X)<2) X
                LAST EDITED:      JUN 13, 2012 
                HELP-PROMPT:      Answer must be 2-30 characters in length. 
                DESCRIPTION:
                                  The phone number of the eCMS user associated with this transaction event.  


414.061,6       ECMS EMAIL             1;6 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>60!($L(X)<2) X
                LAST EDITED:      APR 09, 2013 
                HELP-PROMPT:      Answer must be 2-60 characters in length. 
                DESCRIPTION:
                                  The email address for the eCMS user associated with this transaction event.  

                FIELD INDEX:      ACONTACT (#977)    REGULAR    IR    SORTING ONLY    WHOLE FILE (#414.06)
                    Short Descr:  ECMS CONTACT
                    Description:  File wide to assist with the sorting of eCMS Contact information.  
                      Set Logic:  S ^PRCV(414.06,"ACONTACT",$E(X,1,60),DA(1),DA)=""
                     Kill Logic:  K ^PRCV(414.06,"ACONTACT",$E(X,1,60),DA(1),DA)
                     Whole Kill:  K ^PRCV(414.06,"ACONTACT")
                           X(1):  ECMS EMAIL  (414.061,6)  (Subscr 1)  (Len 60)  (forwards)
                                    Transform (Storage):  S X=$$CONTACT^PRCHJTA(X)

                FIELD INDEX:      AUNQEC (#1117)    REGULAR    IR    SORTING ONLY    WHOLE FILE (#414.06)
                    Short Descr:  Unique eCMS Contact
                    Description:  This index provides a list of unique eCMS email addresses in a format compatible with end user selection.  The Set Condition ensures that only one instance of any ECMS EMAIL is in the index.  The Storage Transform
                                  converts the email address into a format that parses it into a form more suitable for sorting.  
                      Set Logic:  S ^PRCV(414.06,"AUNQEC",$E(X,1,90),DA(1),DA)=""
                       Set Cond:  S X=$D(^PRCV(414.06,"AUNQEC",X))'=10
                     Kill Logic:  K ^PRCV(414.06,"AUNQEC",$E(X,1,90),DA(1),DA)
                     Whole Kill:  K ^PRCV(414.06,"AUNQEC")
                           X(1):  ECMS EMAIL  (414.061,6)  (Subscr 1)  (Len 90)  (forwards)
                                    Transform (Storage):  S X=$$CONTACT^PRCHJTA(X)_"  "_X


414.061,7       RETURN/CANCEL DATE/TIME 1;7 DATE

                INPUT TRANSFORM:  S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
                LAST EDITED:      JUN 13, 2012 
                HELP-PROMPT:      Enter the date and time the 2237 was returned or canceled from within eCMS. 
                DESCRIPTION:
                                  The date and time the 2237 was returned or canceled from within eCMS.  


414.061,10      RETURN/CANCEL REASON   2;1 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>45!($L(X)<2) X
                LAST EDITED:      JUN 13, 2012 
                HELP-PROMPT:      Answer must be 2-45 characters in length. 
                DESCRIPTION:
                                  The reason that the 2237 was returned or canceled.  


414.061,11      TRANSACTION COMMENTS   2;2 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>100!($L(X)<2) X
                LAST EDITED:      JUN 13, 2012 
                HELP-PROMPT:      Answer must be 2-100 characters in length. 
                DESCRIPTION:
                                  Other comments associated with this transaction event.  


414.061,15      ERROR LOG              3;0 Multiple #414.0613 (Add New Entry without Asking)

                DESCRIPTION:
                                  These are various business level errors that are associated with this event.  


414.0613,.01      ERROR LOG              0;1 FREE TEXT

                  INPUT TRANSFORM:  K:$L(X)>120!($L(X)<2) X
                  LAST EDITED:      JUN 13, 2012 
                  HELP-PROMPT:      Answer must be 2-120 characters in length. 
                  DESCRIPTION:
                                    Errors and associated text.  

                  CROSS-REFERENCE:  414.0613^B 
                                    1)= S ^PRCV(414.06,DA(2),1,DA(1),3,"B",$E(X,1,30),DA)=""
                                    2)= K ^PRCV(414.06,DA(2),1,DA(1),3,"B",$E(X,1,30),DA)







      FILES POINTED TO                      FIELDS

CONTROL POINT ACTIVITY (#410)     REQUEST RECORD (#1)

IFCAP/ECMS EVENT TYPE (#414.07)   EVENT:EVENT TYPE (#.02)

NEW PERSON (#200)                 EVENT:IFCAP USER (#3)



INPUT TEMPLATE(S):

PRINT TEMPLATE(S):

SORT TEMPLATE(S):

FORM(S)/BLOCK(S):