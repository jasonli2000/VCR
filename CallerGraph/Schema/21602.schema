STANDARD DATA DICTIONARY #21602 -- MODIFICATIONS TO VISTA FILE                                                                                                                                                                    JUN 17,2014@15:17:11  PAGE 1
STORED IN ^VFDV(21602,  (131 ENTRIES)   SITE: VXVISTA.ORG   UCI: VXVISTA,V13                                                                                                                                                                                  

DATA          NAME                  GLOBAL        DATA
ELEMENT       TITLE                 LOCATION      TYPE
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
This file allows you to record any and all modifications made to a FOIA VistA component.  


              DD ACCESS: @
              RD ACCESS: @
              WR ACCESS: @
             DEL ACCESS: @
           LAYGO ACCESS: @
           AUDIT ACCESS: @

POINTED TO BY: GROUP field (#1.08) of the MODIFICATIONS TO VISTA File (#21602) 
               

CROSS
REFERENCED BY: VXVISTA VERSION(AV), DD FILE(C), *DD FIELD(D), ENTRY NAME(E), ASSOCIATED FILE(E), FILE(F), GLOBAL REF(G), *EXPORTED IN BUILD(I), GROUP(J), NAME(K), CLONED AS(L)

INDEXED BY:    NAME (B), DD FILE & *DD FIELD (H)


21602,.01     NAME                   0;1 FREE TEXT (Required)

              INPUT TRANSFORM:  K:$L(X)>60!($L(X)<3)!'(X'?1P.E) X
              LAST EDITED:      OCT 01, 2007 
              HELP-PROMPT:      Answer must be 3-60 characters in length 
              DESCRIPTION:
                                Enter a subject for this modification that briefly explains its purpose and extent.  

              CROSS-REFERENCE:  ^^TRIGGER^21602^.03 
                                1)= K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(1)=$S($D(^VFDV(21602,D0,0)):^(0),1:"") S X=$P(Y(1),U,3)="" I X S X=DIV S Y(1)=$S($D(^VFDV(21602,D0,0)):^(0),1:"") S X=$P(Y(1),U,3),X=X S DIU=X K Y S X=DIV S X=DT X ^DD(21602,.
                                01,1,2,1.4)

                                1.4)= S DIH=$G(^VFDV(21602,DIV(0),0)),DIV=X S $P(^(0),U,3)=DIV,DIH=21602,DIG=.03 D ^DICR

                                2)= Q

                                CREATE CONDITION)= DATE ENTERED=""
                                CREATE VALUE)= TODAY
                                DELETE VALUE)= NO EFFECT
                                FIELD)= #.03

              CROSS-REFERENCE:  ^^TRIGGER^21602^.04 
                                1)= K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(1)=$S($D(^VFDV(21602,D0,0)):^(0),1:"") S X=$P(Y(1),U,4)="" I X S X=DIV S Y(1)=$S($D(^VFDV(21602,D0,0)):^(0),1:"") S X=$P(Y(1),U,4),X=X S DIU=X K Y X ^DD(21602,.01,1,3,1.1) X ^
                                DD(21602,.01,1,3,1.4)

                                1.1)= S X=DIV X ^DD(21602,.01,1,3,49.2) S %=$S($D(^VA(200,+DUZ,0)):^(0),1:""),X=$S('DUZ:"??",X="#":DUZ,X="N":$P(%,U,1),X="I":$P(%,U,2),X="T":$S($D(^DIC(3.1,+$P(%,U,9),0)):$P(^(0),U,1),1:""),X="NN":$S($D(^VA(200,+DUZ,.1)):$
                                P(^(.1),U,4),1:""),1:"??") K %

                                1.3)= K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(1)=$S($D(^VFDV(21602,D0,0)):^(0),1:"") S X=$P($G(^VA(200,+$P(Y(1),U,4),0)),U)=""

                                1.4)= S DIH=$G(^VFDV(21602,DIV(0),0)),DIV=X S $P(^(0),U,4)=DIV,DIH=21602,DIG=.04 D ^DICR

                                2)= Q

                                49.2)= S X="N"

                                CREATE CONDITION)= ENTERED BY=""
                                CREATE VALUE)= USER("N")
                                DELETE VALUE)= NO EFFECT
                                FIELD)= #.04
                                Store free-text user name in ENTERED BY field, when a new record is created.  


              CROSS-REFERENCE:  21602^K^KWIC 
                                1)= S %1=1 F %=1:1:$L(X)+1 S I=$E(X,%) I "(,.?! '-/&:;)"[I S I=$E($E(X,%1,%-1),1,30),%1=%+1 I $L(I)>2,^DD("KWIC")'[I S ^VFDV(21602,"K",I,DA)=""
                                2)= S %1=1 F %=1:1:$L(X)+1 S I=$E(X,%) I "(,.?! '-/&:;)"[I S I=$E($E(X,%1,%-1),1,30),%1=%+1 I $L(I)>2 K ^VFDV(21602,"K",I,DA)
                                Allow the lookup by words in the subject of this modification.  


              FIELD INDEX:      B (#798)    REGULAR    IR    LOOKUP & SORTING
                  Short Descr:  Index the entire text and not the first 30 chars
                    Set Logic:  S ^VFDV(21602,"B",X,DA)=""
                   Kill Logic:  K ^VFDV(21602,"B",X,DA)
                   Whole Kill:  K ^VFDV(21602,"B")
                         X(1):  NAME  (21602,.01)  (Subscr 1)  (forwards)


21602,.03     DATE ENTERED           0;3 DATE

              INPUT TRANSFORM:  S %DT="EX" D ^%DT S X=Y K:X<1 X
              LAST EDITED:      NOV 18, 2005 
              HELP-PROMPT:      (No range limit on date) 
              DESCRIPTION:
                                This is the date that this entry was created. It is triggered from the .01 field.  

              NOTES:            TRIGGERED by the NAME field of the MODIFICATIONS TO VISTA File 


21602,.04     ENTERED BY             0;4 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>35!($L(X)<3) X
              LAST EDITED:      JUN 27, 2007 
              HELP-PROMPT:      Name of person who created this entry, 3-35 characters. 
              DESCRIPTION:
                                This is the person who first entered this record.  It is triggered by the .01 field.  

              NOTES:            TRIGGERED by the NAME field of the MODIFICATIONS TO VISTA File 


21602,.05     TYPE                   0;5 SET

                                'L' FOR local; 
                                'G' FOR group; 
                                'V' FOR vxVistA; 
              LAST EDITED:      JUN 19, 2007 

21602,1.01    FILE                   1;1 POINTER TO FILE FILE (#1)

              LAST EDITED:      NOV 30, 2005 
              DESCRIPTION:      If the changes made to FOIA VistA involved changes to an entry in a file, then enter that file number or name here.  If there is any VistA file that has this data you can use that file.  For example, if you modified a FOIA
                                VistA M routine, you could enter 9.8 for the ROUTINE file.  

              CROSS-REFERENCE:  21602^F 
                                1)= S ^VFDV(21602,"F",$E(X,1,30),DA)=""
                                2)= K ^VFDV(21602,"F",$E(X,1,30),DA)


21602,1.02    ENTRY NAME             1;2 FREE TEXT

              INPUT TRANSFORM:  N A,B,VAL S VAL=X K X S B=+$G(^VFDV(21602,DA,1)) I B S X=$S(VAL=".?":"?",VAL=+VAL:"`"_VAL,1:VAL) N DIC,DTOUT,DUOUT,D0 S DIC(0)="QEM",DIC=B D ^DIC K X S:Y>0 X=$P(Y,U,2)
              LAST EDITED:      JUN 20, 2007 
              HELP-PROMPT:      Enter a lookup value for the entry in the FILE field. 
              DESCRIPTION:      If you entered a file number in the FILE field, then enter the internal entry record number for that entry or another lookup value. Alternatively, you may enter '.?' to perform a FileMan lookup on the identified FILE.  
                                Then you may select an entry.  

              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER

              CROSS-REFERENCE:  21602^E 
                                1)= S ^VFDV(21602,"E",$E(X,1,30),DA)=""
                                1.4)= S DIH=$G(^VFDV(21602,DIV(0),1)),DIV=X S $P(^(1),U,3)=DIV,DIH=21602,DIG=1.03 D ^DICR
                                2)= K ^VFDV(21602,"E",$E(X,1,30),DA)
                                CREATE VALUE)= S X=$P(@(@("^DIC("_$P(^VFDV(21602,DA,1),U)_",0,""GL"")")_"X,0)"),U)
                                DELETE VALUE)= @
                                FIELD)= #1.03
                                This index is used to lookup modifications by routine or other file entry name.  



21602,1.03    ASSOCIATED FILE        1;3 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>50!($L(X)<1) X
              LAST EDITED:      JUN 20, 2007 
              HELP-PROMPT:      Enter file name (exactly) or number, 1-50 characters in length 
              DESCRIPTION:
                                If the entry named in the ENTRY NAME field is associated with a specific file, identify that file here.  For example, say that an input template belongs to File 2.  Then this field should have the value 2.  

              NOTES:            TRIGGERED by the ENTRY NAME field of the MODIFICATIONS TO VISTA File 

              CROSS-REFERENCE:  21602^E 
                                1)= S ^VFDV(21602,"E",$E(X,1,30),DA)=""
                                2)= K ^VFDV(21602,"E",$E(X,1,30),DA)


21602,1.04    GLOBAL REF             1;4 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>50!($L(X)<5) X I $D(X),'$D(@(U_X)) K X
              LAST EDITED:      NOV 30, 2005 
              HELP-PROMPT:      Answer must be 5-50 characters in length and a global closed reference form without the leading caret. 
              DESCRIPTION:
                                If the component or item edited is not identifiable by a file and an entry in a file (e.g., changes to a Data Dictionary element), then enter the full global reference here.  

              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER

              CROSS-REFERENCE:  21602^G 
                                1)= S ^VFDV(21602,"G",$E(X,1,30),DA)=""
                                2)= K ^VFDV(21602,"G",$E(X,1,30),DA)


21602,1.05    DD FILE                1;5 NUMBER

              INPUT TRANSFORM:  K:+X'=X!(X>9999999999)!(X<0)!(X?.E1"."9N.N)!'$D(^DD(X)) X
              LAST EDITED:      JAN 05, 2006 
              HELP-PROMPT:      Enter File or SubFile number, between 0 and 9999999999, 8 Decimal Digits 
              DESCRIPTION:
                                Used to document data dictionary modifications.  File or subfile number must exist in ^DD.  

              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER

              CROSS-REFERENCE:  21602^C 
                                1)= S ^VFDV(21602,"C",$E(X,1,30),DA)=""
                                2)= K ^VFDV(21602,"C",$E(X,1,30),DA)

              RECORD INDEXES:   H (#799)

21602,1.06    *DD FIELD              1;6 NUMBER

              INPUT TRANSFORM:  K:+X'=X!(X>999999999)!(X<0)!(X?.E1"."9N.N) X I $D(X) N VFDV S VFDV=$P($G(^VFDV(21602,DA,1)),U,5) K:'VFDV X I $D(X) K:'$D(^DD(VFDV,X)) X
              LAST EDITED:      OCT 27, 2009 
              HELP-PROMPT:      Enter field or subfield number between 0 and 999999999, 8 Decimal Digits 
              DESCRIPTION:
                                Used to document data dictionary modifications.  File and field number must exist in ^DD.  

              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER

              CROSS-REFERENCE:  21602^D 
                                1)= S ^VFDV(21602,"D",$E(X,1,30),DA)=""
                                2)= K ^VFDV(21602,"D",$E(X,1,30),DA)

              RECORD INDEXES:   H (#799)

21602,1.07    VXVISTA VERSION        1;7 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>10!($L(X)<3) X
              LAST EDITED:      SEP 05, 2007 
              HELP-PROMPT:      Answer must be 3-10 characters in length. 
              CROSS-REFERENCE:  21602^AV 
                                1)= S ^VFDV(21602,"AV",$E(X,1,30),DA)=""
                                2)= K ^VFDV(21602,"AV",$E(X,1,30),DA)


21602,1.08    GROUP                  1;8 POINTER TO MODIFICATIONS TO VISTA FILE (#21602)

              INPUT TRANSFORM:  S DIC("S")="I $P(^(0),U,5)=""G""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
              LAST EDITED:      JUN 20, 2007 
              HELP-PROMPT:      If this modification belongs to a group, indicate the parent modification. 
              SCREEN:           S DIC("S")="I $P(^(0),U,5)=""G"""
              EXPLANATION:      Entry must be of type "group."
              CROSS-REFERENCE:  21602^J 
                                1)= S ^VFDV(21602,"J",$E(X,1,30),DA)=""
                                2)= K ^VFDV(21602,"J",$E(X,1,30),DA)
                                To facilitate identifying entries belonging to a group.  



21602,1.09    CLONED AS              1;9 FREE TEXT

              INPUT TRANSFORM:  N A,B,VAL S VAL=X K X S B=+$G(^VFDV(21602,DA,1)) I B S X=$S(VAL=".?":"?",VAL=+VAL:"`"_VAL,1:VAL) N DIC,DTOUT,DUOUT,D0 S DIC(0)="QEM",DIC=B D ^DIC K X S:Y>0 X=$P(Y,U,2)
              LAST EDITED:      JAN 07, 2008 
              HELP-PROMPT:      Enter a lookup value for the entry in the FILE field. 
              DESCRIPTION:      If this modifications entry documents a cloned object, i.e.  a copy of a VistA routine, template, form, or etc., enter the object's name here.  You must first have entered a file number in the FILE field, as the cloned
                                object is required to exist in this environment.  For CLONED AS you may enter an internal entry number or other lookup value on the previously identified FILE.  Or you may enter '.?' to perform a FileMan lookup.  

              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER

              CROSS-REFERENCE:  21602^L 
                                1)= S ^VFDV(21602,"L",$E(X,1,30),DA)=""
                                2)= K ^VFDV(21602,"L",$E(X,1,30),DA)
                                This index is used to lookup modifications by cloned object name.  



21602,2.01    *EXPORTED IN BUILD     2;1 FREE TEXT

              INPUT TRANSFORM:  I $T(^VFDMRAPI)]"" D INPUTB^VFDMRAPI(.X)
              LAST EDITED:      OCT 27, 2009 
              HELP-PROMPT:      Enter name of the build that transports this modification to VistA. 
              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER

              CROSS-REFERENCE:  21602^I 
                                1)= S ^VFDV(21602,"I",$E(X,1,30),DA)=""
                                2)= K ^VFDV(21602,"I",$E(X,1,30),DA)
                                This cross-reference is used by the build's environment check code to traverse build-related modifications.  



21602,2.02    *INACTIVE DATE         2;2 DATE

              INPUT TRANSFORM:  S %DT="E" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      OCT 27, 2009 
              HELP-PROMPT:      Enter the date upon which this modification is no longer active. 

21602,4.1     *PREV VER IDENT        4.1;E1,245 MUMPS

              INPUT TRANSFORM:  K:$L(X)>245 X D:$D(X) ^DIM
              LAST EDITED:      OCT 27, 2009 
              HELP-PROMPT:      This is Standard MUMPS code. 
              DESCRIPTION:
                                Enter the "PREV VER IDENT" found in ^DD(File,0,"ID",FIELD).  This is associated with the "PREV VER ATT" field.  


21602,4.2     *CURRENT vxVISTA ID    4.2;E1,245 MUMPS

              INPUT TRANSFORM:  K:$L(X)>245 X D:$D(X) ^DIM
              LAST EDITED:      OCT 27, 2009 
              HELP-PROMPT:      This is Standard MUMPS code. 
              DESCRIPTION:
                                The "CURRENT vxVISTA ID" is M code found in ^DD(File,0,"ID",Field), it is associated with field "CURRENT vxVISTA ATT".  


21602,4.3     *SYS BKUP IDENT        4.3;E1,245 MUMPS

              INPUT TRANSFORM:  K:$L(X)>245 X D:$D(X) ^DIM
              LAST EDITED:      OCT 27, 2009 
              HELP-PROMPT:      This is Standard MUMPS code. 
              DESCRIPTION:
                                The "SYS BKUP IDENT" fields is M code found in field ^DD(File,0,"ID",Field).  If the field exists then a "a" (audit) identifier is add at the end of the "SYS BKUP ATT" field.  


21602,4.4     *CURRENT FOIA IDENT    4.4;E1,245 MUMPS

              INPUT TRANSFORM:  K:$L(X)>245 X D:$D(X) ^DIM
              LAST EDITED:      OCT 27, 2009 
              HELP-PROMPT:      This is Standard MUMPS code. 
              DESCRIPTION:
                                This Indentifier comes from DD(File,0,"ID",Field).  


21602,5       FIELD ATTRIBUTES       5;0 Multiple #21602.05


21602.05,.01    FIELD#                 0;1 NUMBER (Multiply asked)

                INPUT TRANSFORM:  K:+X'=X!(X>999999999999999)!(X<.001)!(X?.E1"."9.N) X
                LAST EDITED:      JAN 09, 2009 
                HELP-PROMPT:      Enter a Fileman field number, .001 - 999999999999999 
                DESCRIPTION:
                                  Enter a valid Fileman Data Dictionary field number for the file or subfile for this record.  The field does not have to actually exist on the current system.  

                CROSS-REFERENCE:  21602.05^B 
                                  1)= S ^VFDV(21602,DA(1),5,"B",$E(X,1,30),DA)=""
                                  2)= K ^VFDV(21602,DA(1),5,"B",$E(X,1,30),DA)


21602.05,.02    FOIA ATT               0;2 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>12!($L(X)<1) X
                LAST EDITED:      JAN 09, 2009 
                HELP-PROMPT:      Answer must be 1-12 characters in length 
                DESCRIPTION:      This value should be the second ^-piece of ^DD(file,field,0) for the global as it appears in the VA FOIA account without modification.  If this field is an Identifier field, then append an "i" to the end of the attribute
                                  string.  Do not use an "I" as that has a specific Fileman meaning.  


21602.05,.03    VXVISTA ATT            0;3 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>12!($L(X)<1) X
                LAST EDITED:      JAN 09, 2009 
                HELP-PROMPT:      Answer must be 1-12 characters in length 
                DESCRIPTION:      This value should be the second ^-piece of ^DD(file,field,0) for the global as it appears in the current vxVistA account after the modifications have been made.  If this field is an Identifier field, then append an "i"
                                  to the end of the attribute string.  Do not use an "I" as that has a specific Fileman meaning.  


21602.05,.04    PREVIOUS VX ATT        0;4 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>12!($L(X)<1) X
                LAST EDITED:      JAN 09, 2009 
                HELP-PROMPT:      Answer must be 1-12 characters in length 
                DESCRIPTION:      This value should be the second ^-piece of ^DD(file,field,0) for the global as it appeared in the previous vxVistA version.  If this field is an Identifier field, then append an "i" to the end of the attribute string. 
                                  Do not use an "I" as that has a specific Fileman meaning.  


21602.05,.05    SYS ATT                0;5 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>12!($L(X)<1) X
                LAST EDITED:      JAN 09, 2009 
                HELP-PROMPT:      Answer must be 1-12 characters in length 
                DESCRIPTION:      This value should be the second ^-piece of ^DD(file,field,0) for the global as it appears in the current system prior to the vxVistA modifications have been applied.  This will be populated in a pre-install during the
                                  vxVistA KIDS installation process.  An "i" will be appended to the end of the attribute string if this field is an Identifier.  




21602,9       DESCRIPTION OF CHANGES 9;0   WORD-PROCESSING #21602.09   (NOWRAP)



      FILES POINTED TO                      FIELDS

FILE (#1)                         FILE (#1.01)

MODIFICATIONS TO VISTA (#21602)   GROUP (#1.08)


File #21602

  Record Indexes:

  H (#799)    RECORD    REGULAR    IR    LOOKUP & SORTING
      Short Descr:  Cross-reference DD FILE x DD FIELD
        Set Logic:  S ^VFDV(21602,"H",X(1),X(2),DA)=""
       Kill Logic:  K ^VFDV(21602,"H",X(1),X(2),DA)
       Whole Kill:  K ^VFDV(21602,"H")
             X(1):  DD FILE  (21602,1.05)  (Subscr 1)  (forwards)
             X(2):  *DD FIELD  (21602,1.06)  (Subscr 2)  (forwards)


INPUT TEMPLATE(S):

PRINT TEMPLATE(S):
CAPTIONED                                         USER #0    

SORT TEMPLATE(S):

FORM(S)/BLOCK(S):