STANDARD DATA DICTIONARY #62.49 -- LA7 MESSAGE QUEUE FILE                                                                                                                                                                         JUN 17,2014@15:15:53  PAGE 1
STORED IN ^LAHM(62.49,  *** NO DATA STORED YET ***   SITE: VXVISTA.ORG   UCI: VXVISTA,V13                                                                                                                                                     (VERSION 5.2)   

DATA          NAME                  GLOBAL        DATA
ELEMENT       TITLE                 LOCATION      TYPE
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
This file is used to store the messages that are sent or received by the Lab Messaging system.  This file is populated by application routines and should not be edited by users.  


IDENTIFIED BY: 
         "W1": N LRX S LRX=^(0) D EN^DDIOL("Entered D/T: "_$$FMTE^XLFDT($P(LRX,U,5),"1M")_"  Type: "_$$EXTERNAL^DILFD(62.49,1,"",$P(LRX,U,2))_"  Status: "_$$EXTERNAL^DILFD(62.49,2,"",$P(LRX,U,3)),,"!")
         "W2": N LRX S LRX=^(0) D EN^DDIOL("Instrument Name: "_$$EXTERNAL^DILFD(62.49,5,"",$P(LRX,U,6)),,"!")
         "W3": N LRX S LRX=$G(^(.5)) D EN^DDIOL("Configuration: "_$$EXTERNAL^DILFD(62.49,.5,"",$P(LRX,U,1)),,"!")

POINTED TO BY: MESSAGE TEXT field (#6) of the LA7 MESSAGE QUEUE File (#62.49) 
               

CROSS
REFERENCED BY: DATE/TIME ENTERED(AD), MESSAGE NUMBER(B), MESSAGE CONTROL ID(ID)

INDEXED BY:    MESSAGE TYPE & STATUS & CONFIGURATION & TYPE (AC), INSTRUMENT NAME (C), ADDITIONAL MESSAGE IDENTIFIERS (D), CONFIGURATION & TYPE & STATUS (Q)


62.49,.01     MESSAGE NUMBER         0;1 NUMBER (Required)

              INPUT TRANSFORM:  K:+X'=X!(X>999999999)!(X<0)!(X?.E1"."1N.N) X
              LAST EDITED:      APR 18, 1994 
              HELP-PROMPT:      Type a Number between 0 and 999999999, 0 Decimal Digits. 
              DESCRIPTION:
                                This field contains a unique laboratory message number that is generated by the system.  

              CROSS-REFERENCE:  62.49^B 
                                1)= S ^LAHM(62.49,"B",$E(X,1,30),DA)=""
                                2)= K ^LAHM(62.49,"B",$E(X,1,30),DA)


62.49,.5      CONFIGURATION          .5;1 POINTER TO LA7 MESSAGE PARAMETER FILE (#62.48)

              LAST EDITED:      MAR 19, 2002 
              HELP-PROMPT:      Enter in the appropriate LA7 MESSAGE PARAMETER file (#62.48) entry that pertains to this message.  
              DESCRIPTION:
                                This field contains the pointer to the LA7 MESSAGE PARAMETER file (#62.48) which contains vital information concerning the processing, purging, and sending of alert messages.  

              RECORD INDEXES:   AC (#622), Q (#735)

62.49,1       TYPE                   0;2 SET (Required)

                                'I' FOR INCOMING; 
                                'O' FOR OUTGOING; 
              LAST EDITED:      MAR 19, 2002 
              HELP-PROMPT:      Enter the direction, "I" for incoming or "O" for outgoing, of the message. 
              DESCRIPTION:
                                This field identifies the direction of the message.  

              RECORD INDEXES:   AC (#622), Q (#735)

62.49,2       STATUS                 0;3 SET

                                'B' FOR BUILDING; 
                                'Q' FOR QUEUED FOR ACTION; 
                                'E' FOR ERROR; 
                                'X' FOR PURGEABLE; 
                                'P' FOR PROCESS; 
                                'A' FOR AWAITING ACK; 
              LAST EDITED:      MAR 19, 2002 
              DESCRIPTION:
                                This field contains the current status of the message.  The status is used for queuing, processing, and purging of messages.  

              RECORD INDEXES:   AC (#622), Q (#735)

62.49,3       PRIORITY               0;4 NUMBER

              INPUT TRANSFORM:  K:+X'=X!(X>5)!(X<1)!(X?.E1"."1N.N) X
              LAST EDITED:      APR 18, 1994 
              HELP-PROMPT:      Type a Number between 1 and 5, 0 Decimal Digits. 
              DESCRIPTION:
                                This field contains the priority put on each queued message.  The priorities range from one to five, five being the lowest priority.  


62.49,4       DATE/TIME ENTERED      0;5 DATE

              INPUT TRANSFORM:  S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      JAN 19, 1995 
              HELP-PROMPT:      Enter the current date and time. 
              DESCRIPTION:
                                This field contains the exact time that this entry was created.  

              CROSS-REFERENCE:  62.49^AD^MUMPS 
                                1)= S ^LAHM(62.49,"AD",$P(X,"."),DA)=""
                                2)= K ^LAHM(62.49,"AD",$P(X,"."),DA)
                                3)= DO NOT DELETE
                                This cross reference gives a breakdown of message by date.  The cross reference is in the following format 
                                  S ^LAHM(62.49,"AD",$P(DATE/TIME ENTERED,"."),MESSAGE NUMBER)="" 



62.49,5       INSTRUMENT NAME        0;6 FREE TEXT

              INPUT TRANSFORM:  K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>45!($L(X)<1) X
              LAST EDITED:      APR 02, 2007 
              HELP-PROMPT:      Answer must be 1-45 characters in length. 
              DESCRIPTION:
                                This field contains the instrument name from the AUTO INSTRUMENT file (#62.4).  This field is used for looking up messages by instrument name.  

              FIELD INDEX:      C (#625)    REGULAR    IR    LOOKUP & SORTING
                  Short Descr:  Instrument name and related specimen id.
                  Description:  This field contains the instrument name from the AUTO INSTRUMENT file (#62.4).  This field is used for looking up messages by instrument name 
                                 
                                The INSTRUMENT NAME field is constructed as follows: 
                                  1. Instrument name from the #.01 Name field of the Auto Instrument file #62.4 
                                  2. Message type - "I" for Incoming, "O" for Outgoing 
                                  3. Lab Unique Id or Accession number 
                                     - Outgoing messages always use the UID when building this name.  
                                     - Incoming messages are based on what is found in the message.  
                                 
                                  Examples: CX7-I-2061020105 
                                            H747-O-3163120010 
                                            MLA-I-45 
                                 
                                  Messages with no instrument name will use "UNKNOWN".  
                                  Messages with no/unknown UID/accession number will use 0 (zero).  
                                  Example: UNKNOWN-I-0 
                    Set Logic:  S ^LAHM(62.49,"C",$E(X,1,45),DA)=""
                   Kill Logic:  K ^LAHM(62.49,"C",$E(X,1,45),DA)
                   Whole Kill:  K ^LAHM(62.49,"C")
                         X(1):  INSTRUMENT NAME  (62.49,5)  (Subscr 1)  (Len 45)  (forwards)


62.49,5.1     ADDITIONAL MESSAGE IDENTIFIERS .2;0 Multiple #62.49002 (Add New Entry without Asking)

              DESCRIPTION:
                                Multiple to store additional message identifiers to lookup a message using lab utilities.  


              INDEXED BY:       ADDITIONAL MESSAGE IDENTIFIERS (B)

62.49002,.01    ADDITIONAL MESSAGE IDENTIFIERS 0;1 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>80!($L(X)<1) X
                LAST EDITED:      APR 13, 2007 
                HELP-PROMPT:      Answer must be 1-80 characters in length. 
                DESCRIPTION:
                                  Multiple to store additional message identifiers to lookup a message using lab utilities.  

                FIELD INDEX:      D (#626)    REGULAR    IR    LOOKUP & SORTING    WHOLE FILE (#62.49)
                    Short Descr:  Whole file cross-reference on message identifiers
                    Description:  Cross reference on message identifiers used to lookup messages using various values.  
                      Set Logic:  S ^LAHM(62.49,"D",$E(X,1,80),DA(1),DA)=""
                     Kill Logic:  K ^LAHM(62.49,"D",$E(X,1,80),DA(1),DA)
                     Whole Kill:  K ^LAHM(62.49,"D")
                           X(1):  ADDITIONAL MESSAGE IDENTIFIERS  (62.49002,.01)  (Subscr 1)  (Len 80)  (forwards)

                FIELD INDEX:      B (#736)    REGULAR    IR    LOOKUP & SORTING
                    Short Descr:  Regular "B" cross-reference.
                    Description:  Regular "B" cross-reference but modified to use full 80 characters of the field.  
                      Set Logic:  S ^LAHM(62.49,DA(1),.2,"B",$E(X,1,80),DA)=""
                     Kill Logic:  K ^LAHM(62.49,DA(1),.2,"B",$E(X,1,80),DA)
                     Whole Kill:  K ^LAHM(62.49,DA(1),.2,"B")
                           X(1):  ADDITIONAL MESSAGE IDENTIFIERS  (62.49002,.01)  (Subscr 1)  (Len 80)  (forwards)




62.49,6       MESSAGE TEXT           0;7 POINTER TO LA7 MESSAGE QUEUE FILE (#62.49)

              LAST EDITED:      MAR 06, 1997 
              HELP-PROMPT:      This field contains the pointer to the entry that contains the HL7 message. 
              DESCRIPTION:
                                This field holds a pointer to the entry in this file that contains the HL7 message text.  


62.49,100     MSH                    100;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>3!($L(X)<3) X
              LAST EDITED:      APR 18, 1994 
              HELP-PROMPT:      Answer must be 3 characters in length. 
              DESCRIPTION:
                                This field contains the letters, "MSH".  Fields 100 through 111 are all used to identify the HL7 message header segment (MSH).  


62.49,101     ENCODING CHARACTERS    100;2 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>4!($L(X)<4) X
              LAST EDITED:      APR 18, 1994 
              HELP-PROMPT:      Answer must be 4 characters in length. 
              DESCRIPTION:
                                This field identifies this messages HL7 encoding characters.  Fields 100 through 111 are all used to identify the HL7 message header segment (MSH).  


62.49,102     SENDING APPLICATION    100;3 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>15!($L(X)<1) X
              LAST EDITED:      APR 18, 1994 
              HELP-PROMPT:      Answer must be 1-15 characters in length. 
              DESCRIPTION:
                                This field contains the HL7 15 character sending application. Fields 100 through 111 are all used to identify the HL7 message header segment (MSH).  


62.49,103     SENDING FACILITY       100;4 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>20!($L(X)<1) X
              LAST EDITED:      APR 18, 1994 
              HELP-PROMPT:      Answer must be 1-20 characters in length. 
              DESCRIPTION:
                                This field contains this messages HL7 sending facility.  Fields 100 through 111 are all used to identify the HL7 message header segment (MSH).  


62.49,104     RECEIVING APPLICATION  100;5 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>15!($L(X)<1) X
              LAST EDITED:      APR 18, 1994 
              HELP-PROMPT:      Answer must be 1-15 characters in length. 
              DESCRIPTION:
                                This field contains the HL7 receiving application.  Fields 100 through 111 are all used to identify the HL7 message header segment (MSH).  


62.49,105     RECEIVING FACILITY     100;6 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>20!($L(X)<1) X
              LAST EDITED:      APR 18, 1994 
              HELP-PROMPT:      Answer must be 1-20 characters in length. 
              DESCRIPTION:
                                This field contains the HL7 receiving facility for this message.  Fields 100 through 111 are all used to identify the HL7 message header segment (MSH).  


62.49,106     DATE/TIME OF MESSAGE   100;7 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>19!($L(X)<1) X
              OUTPUT TRANSFORM: S Y=$$FMDATE^HLFNC(Y) D D^DIQ
              LAST EDITED:      APR 19, 1994 
              HELP-PROMPT:      Answer must be 1-19 characters in length. 
              DESCRIPTION:
                                This field contains the date and time of the HL7 messages.  Fields 100 through 111 are all used to identify the HL7 message header segment (MSH).  


62.49,107     SECURITY               100;8 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>40!($L(X)<1) X
              LAST EDITED:      JAN 26, 1997 
              HELP-PROMPT:      Answer must be 1-40 characters in length. 
              DESCRIPTION:
                                This field contains the security information in the HL7 message.  Fields 100 through 111 are all used to identify the HL7 message header segment (MSH).  


62.49,108     MESSAGE TYPE           100;9 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>7!($L(X)<1) X
              LAST EDITED:      MAR 19, 2002 
              HELP-PROMPT:      Answer must be 1-7 characters in length. 
              DESCRIPTION:
                                This field contains the message type (ORU, ORM, ORR, ...) of the HL7 message.  Fields 100 through 111 are all used to identify the HL7 message header segment (MSH).  

              RECORD INDEXES:   AC (#622)

62.49,109     MESSAGE CONTROL ID     100;10 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>20!($L(X)<1) X
              LAST EDITED:      JAN 22, 1997 
              HELP-PROMPT:      Answer must be 1-20 characters in length. 
              DESCRIPTION:
                                This field contains the HL7 unique message control id.  This is used by the HL7 package to uniquely identify every message.  Fields 100 through 111 are all used to identify the HL7 message header segment (MSH).  

              CROSS-REFERENCE:  62.49^ID 
                                1)= S ^LAHM(62.49,"ID",$E(X,1,30),DA)=""
                                2)= K ^LAHM(62.49,"ID",$E(X,1,30),DA)
                                This cross reference is used by the ORU acknowledgment processing routine, ACK^LA7VMSG, to update the status in the LAB PENDING ORDERS ENTRY file (#69.6).  



62.49,110     PROCESSING ID          100;11 SET

                                'D' FOR DEBUGGING; 
                                'P' FOR PRODUCTION; 
                                'T' FOR TRAINING; 
              LAST EDITED:      APR 18, 1994 
              HELP-PROMPT:      Enter in the HL7 processing id. 
              DESCRIPTION:      This field contains the HL7 processing id.  This field is used by HL7 to differentiate between messages for debugging, production, and training.  Fields 100 through 111 are all used to identify the HL7 message header 
                                segment (MSH).  


62.49,111     VERSION ID             100;12 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>8!($L(X)<1) X
              LAST EDITED:      APR 18, 1994 
              HELP-PROMPT:      Answer must be 1-8 characters in length. 
              DESCRIPTION:
                                This field contains the HL7 version id for this HL7 message.  Fields 100 through 111 are all used to identify the HL7 message header segment (MSH).  


62.49,150     HL7 TEXT               150;0   WORD-PROCESSING #62.495   (NOWRAP)

              DESCRIPTION:
                                This field contains the actual text HL7 message. 


62.49,151     HUID                   63;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<1) X
              LAST EDITED:      JAN 21, 1997 
              HELP-PROMPT:      The field holds the Host site's universal identifier. 
              DESCRIPTION:
                                This field represents the Host site's universal identifier or unique accession number.  


62.49,152     REMOTE SYSTEM          63;2 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>7!($L(X)<2) X
              LAST EDITED:      MAR 17, 1997 
              HELP-PROMPT:      This field contains the primary hospital's station number. 
              DESCRIPTION:
                                This field contains the primary hospital's station number.  


62.49,153     RUID                   63;3 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>30!($L(X)<1) X
              LAST EDITED:      JAN 21, 1997 
              HELP-PROMPT:      This field holds the remote site's universal identifier. 
              DESCRIPTION:
                                This field contains the remote site's universal identifier or unique accession number.  


62.49,154     ORDERED TEST           63;4 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>60!($L(X)<1) X
              LAST EDITED:      OCT 14, 1997 
              HELP-PROMPT:      Answer must be 1-60 characters in length. 
              DESCRIPTION:
                                This field contains the free text value of the ordered test.  This field is used to link the results back to the ordered test.  


62.49,155     NLT                    63;5 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>10!($L(X)<1) X
              LAST EDITED:      JAN 21, 1997 
              HELP-PROMPT:      This field holds the NLT code for the ordered test. 
              DESCRIPTION:
                                This field contains the NLT code from the WKLD CODE file (#64) for the ordered test.  


62.49,156     INVERSE DATE           63;6 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>20!($L(X)<1) X
              LAST EDITED:      JAN 21, 1997 
              HELP-PROMPT:      This field holds the inverse date of the ordered test. 
              DESCRIPTION:
                                This field contains the inverse date of the ordered test.  


62.49,157     SUBSCRIPT              63;7 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>4!($L(X)<2) X
              LAST EDITED:      JAN 21, 1997 
              HELP-PROMPT:      This field holds the LAB DATA file (#63) subscript node of the results for the ordered test. 
              DESCRIPTION:
                                This field contains the subscript location of the results.  (Ex. "CH") 


62.49,158     LRDFN                  63;8 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>20!($L(X)<1) X
              LAST EDITED:      JAN 22, 1997 
              HELP-PROMPT:      This field holds the patients LRDFN. 
              DESCRIPTION:
                                This field contains the LRDFN of the patients for which the tests were ordered.  


62.49,159     ORDERED DATE           63;9 DATE

              INPUT TRANSFORM:  S %DT="E" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      JAN 22, 1997 
              HELP-PROMPT:      This field holds the date the test was ordered. 
              DESCRIPTION:
                                This field contains the date the test was ordered.  


62.49,160     ERROR CODE             ERR;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>10!($L(X)<1) X
              LAST EDITED:      JAN 22, 1997 
              HELP-PROMPT:      This field holds the error codes returned by the HL7 package. 
              DESCRIPTION:
                                This field contains any error codes returned by the VISTA Health Level Seven (HL7) package while processing HL7 messages.  


62.49,161     ERROR MESSAGE          ERR;2 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>60!($L(X)<1) X
              LAST EDITED:      JAN 22, 1997 
              HELP-PROMPT:      This field holds text error messages that might occur while processing HL7 messages. 
              DESCRIPTION:
                                This field holds text error messages that might occur while processing HL7 messages.  


62.49,162     CH SUBSCRIPT           1;0 Multiple #62.49162 (Add New Entry without Asking)

              DESCRIPTION:
                                This multiple contains the "CH" subscript nodes where the results are stored in the LAB DATA file (#63).  


62.49162,.01    CH SUBSCRIPT           0;1 FREE TEXT

                INPUT TRANSFORM:  K:$L(X)>10!($L(X)<1) X
                LAST EDITED:      JAN 07, 2003 
                HELP-PROMPT:      Answer must be 1-10 characters in length. 
                DESCRIPTION:
                                  This multiple contains the "CH" subscript node where the results are stored in the LAB DATA file (#63).  The field is used in the processing and transmission of HL7 result messages.  

                CROSS-REFERENCE:  62.49162^B 
                                  1)= S ^LAHM(62.49,DA(1),1,"B",$E(X,1,30),DA)=""
                                  2)= K ^LAHM(62.49,DA(1),1,"B",$E(X,1,30),DA)


62.49162,.02    CORRECTED RESULTS      0;2 SET

                                  'C' FOR CORRECTED; 
                LAST EDITED:      JAN 07, 2003 
                HELP-PROMPT:      Indicate if these results are a correction to a previous report. 
                DESCRIPTION:
                                  Indicates if the results being transmitted are a correction to a previous report. The HL7 message will indicate this status when transmitting these results.  




62.49,700     HL7 ENV                700;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>245!($L(X)<1) X
              LAST EDITED:      APR 18, 2003 
              HELP-PROMPT:      Answer must be 1-245 characters in length 
              DESCRIPTION:
                                Stores HL7 environment relating to incoming HL7 message for later use in generating an HL7 application acknowledgement.  



      FILES POINTED TO                      FIELDS

LA7 MESSAGE PARAMETER (#62.48)    CONFIGURATION (#.5)

LA7 MESSAGE QUEUE (#62.49)        MESSAGE TEXT (#6)


File #62.49

  Record Indexes:

  AC (#622)    RECORD    REGULAR    IR    SORTING ONLY
      Short Descr:  Used to process outgoing HL7 ORU and ORR messages.
      Description:  This cross reference is used to process outgoing HL7 ORU (Observation Results Unsolicited) and ORR (Order Response) messages.  
                     
                    The format is as follows: 
                      ^LAHM(62.49,"AC",MESSAGE TYPE,"P",CONFIGURATION,DA)="" 
        Set Logic:  S ^LAHM(62.49,"AC",$E(X(1),1,3),X(2),X(3),DA)=""
         Set Cond:  S X=X(2)="P"&(X(4)="O")
       Kill Logic:  K ^LAHM(62.49,"AC",$E(X(1),1,3),X(2),X(3),DA)
        Kill Cond:  S X=X(2)="P"&(X(4)="O")
       Whole Kill:  K ^LAHM(62.49,"AC")
             X(1):  MESSAGE TYPE  (62.49,108)  (Subscr 1)  (Len 3)  (forwards)
             X(2):  STATUS  (62.49,2)  (Subscr 2)  (forwards)
             X(3):  CONFIGURATION  (62.49,.5)  (Subscr 3)  (forwards)
             X(4):  TYPE  (62.49,1)  (forwards)

  Q (#735)    RECORD    REGULAR    IR    LOOKUP & SORTING
      Short Descr:  Maintains a "Q"ueue of incoming and outgoing messages.
      Description:  The "Q" cross reference is used by the Universal Interface, LEDI and other Laboratory routines that process and store HL7 messages in this file.  
                     
                    The format is as follows: 
                      ^LAHM(62.49,"Q",CONFIGURATION,TYPE_STATUS,DA)="" 
                     
                    This allows each configuration in LA7 MESSAGE PARAMETER file (#62.48) to have it's own incoming and outgoing message queue. 
        Set Logic:  S ^LAHM(62.49,"Q",X(1),X(4),DA)=""
         Set Cond:  S X=X(2)]""&(X(3)]"")
       Kill Logic:  K ^LAHM(62.49,"Q",X(1),X(4),DA)
        Kill Cond:  S X=X(2)]""&(X(3)]"")
       Whole Kill:  K ^LAHM(62.49,"Q")
             X(1):  CONFIGURATION  (62.49,.5)  (Subscr 1)  (forwards)
             X(2):  TYPE  (62.49,1)  (forwards)
             X(3):  STATUS  (62.49,2)  (forwards)
             X(4):  Computed Code: S X=X(2)_X(3)
                      (Subscr 2)


INPUT TEMPLATE(S):

PRINT TEMPLATE(S):

SORT TEMPLATE(S):

FORM(S)/BLOCK(S):