STANDARD DATA DICTIONARY #9000010 -- VISIT FILE                                                                                                                                                                                   MAY 20,2014@15:39:40  PAGE 1
STORED IN ^AUPNVSIT(  *** NO DATA STORED YET ***   SITE: PLA.ISC-WASH.MED.VA.GOV   UCI: VISTA,PLA                                                                                                                                             (VERSION 2.0)   

DATA          NAME                  GLOBAL        DATA
ELEMENT       TITLE                 LOCATION      TYPE
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
This file contains a record of all patient visits at health care facilities or by health care providers, including direct outpatient and clinic visits, as well as inpatient encounters with providers of care.  All other visit related files, such as
purpose of visit (diagnoses), operative procedures, immunizations, examinations, etc. will point to a visit in this file.  The records are maintained by date/time of visit, and the patient name field is a pointer to the IHS Patient file, where the
patient must exist before data can be added here.  


FILE SCREEN (SCR-node) : I '$P(^(0),U,11),($P(^(0),U,9)!($D(APCDOVRR)!$D(VSIT)!($G(DUZ("AG"))?1"V"0.1"A")))
POST-SELECTION ACTION  : S X="AUPNVSIT" X ^%ZOSF("TEST") I $T D:$G(DUZ("AG"))?1"I"0.1"HS" POSTSLCT^AUPNVSIT
              DD ACCESS: @
IDENTIFIED BY: PATIENT NAME (#.05)[R], HOSPITAL LOCATION (#.22), VISIT ID (#15001)[R]

POINTED TO BY: VISIT NUMBER field (#.06) of the CPT RECORD DATE/TIME sub-field (#45.06) of the PTF File (#45) 
               VISIT field (#27) of the EXAMINATIONS sub-field (#70.03) of the REGISTERED EXAMS sub-field (#70.02) of the RAD/NUC MED PATIENT File (#70) 
               VISIT field (#.015) of the SURGERY File (#130) 
               VISIT field (#.12) of the ED LOG File (#230) 
               VISIT field (#.03) of the CLAIMS TRACKING File (#356) 
               VISIT FILE ENTRY field (#.27) of the PATIENT MOVEMENT File (#405) 
               VISIT FILE ENTRY field (#.05) of the OUTPATIENT ENCOUNTER File (#409.68) 
               PCE field (#8.12) of the RECORD OF PROS APPLIANCE/REPAIR File (#660) 
               PCC POINTER field (#900) of the ECHO File (#691) 
               PCC POINTER field (#900) of the CARDIAC CATHETERIZATION File (#691.1) 
               PCC POINTER field (#900) of the ELECTROCARDIOGRAM (EKG) File (#691.5) 
               PCC POINTER field (#900) of the HOLTER File (#691.6) 
               PCC POINTER field (#900) of the EXERCISE TOLERANCE TEST File (#691.7) 
               PCC POINTER field (#900) of the ELECTROPHYSIOLOGY (EP) File (#691.8) 
               PCC POINTER field (#900) of the HEMATOLOGY File (#694) 
               PCC POINTER field (#900) of the GENERATOR IMPLANT File (#698) 
               PCC POINTER field (#900) of the V LEAD IMPLANT File (#698.1) 
               PCC POINTER field (#900) of the A LEAD IMPLANT File (#698.2) 
               PCC POINTER field (#900) of the PACEMAKER SURVEILLANCE File (#698.3) 
               PCC POINTER field (#900) of the ENDOSCOPY/CONSULT File (#699) 
               PCC POINTER field (#900) of the GENERALIZED PROCEDURE/CONSULT File (#699.5) 
               PCC POINTER field (#900) of the PULMONARY FUNCTION TESTS File (#700) 
               PCC POINTER field (#900) of the RHEUMATOLOGY File (#701) 
               VISIT field (#.13) of the CP TRANSACTION File (#702) 
               VISIT field (#28) of the EVENT CAPTURE PATIENT File (#721) 
               VISIT field (#.07) of the EXTRACT FINDINGS sub-field (#810.31) of the REMINDER EXTRACT SUMMARY File (#810.3) 
               VISIT field (#.03) of the PCE DEVICE INTERFACE MODULE ERRORS File (#839.01) 
               VISIT field (#.03) of the TIU DOCUMENT File (#8925) 
               SECONDARY VISIT field (#1207) of the TIU DOCUMENT File (#8925) 
               INITIAL VISIT RECORD field (#1.11) of the TIU AUDIT TRAIL File (#8925.5) 
               FINAL VISIT RECORD field (#1.12) of the TIU AUDIT TRAIL File (#8925.5) 
               PARENT VISIT LINK field (#.12) of the VISIT File (#9000010) 
               VISIT field (#.03) of the V PROVIDER File (#9000010.06) 
               VISIT field (#.03) of the V POV File (#9000010.07) 
               VISIT field (#.03) of the V IMMUNIZATION File (#9000010.11) 
               VISIT field (#.03) of the V SKIN TEST File (#9000010.12) 
               VISIT field (#.03) of the V EXAM File (#9000010.13) 
               VISIT field (#.03) of the V TREATMENT File (#9000010.15) 
               VISIT field (#.03) of the V PATIENT ED File (#9000010.16) 
               VISIT field (#.03) of the V CPT File (#9000010.18) 
               VISIT field (#.03) of the V HEALTH FACTORS File (#9000010.23) 
               

CROSS
REFERENCED BY: PATIENT NAME(AA), VISIT/ADMIT DATE&TIME(AA-TOO), SERVICE CATEGORY(AAH), VISIT/ADMIT DATE&TIME(AAHTOO), PATIENT NAME(AAHTOO2), PARENT VISIT LINK(AD), DEPENDENT ENTRY COUNT(ADEL), VISIT/ADMIT DATE&TIME(ADEL2), ENCOUNTER TYPE(AET), 
               VISIT/ADMIT DATE&TIME(AET1), PATIENT NAME(AET2), HOSPITAL LOCATION(AET3), HOSPITAL LOCATION(AHL), VISIT/ADMIT DATE&TIME(AHL2), PARENT VISIT LINK(APV), ELIGIBILITY(AVAA2), VISIT/ADMIT DATE&TIME(B), PATIENT NAME(C), VISIT ID(VID)

9000010,.01   VISIT/ADMIT DATE&TIME  0;1 DATE (Required)

              VISIT DATE & TIME                                                                                                
              INPUT TRANSFORM:  S %DT="EST" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      MAY 21, 1996 
              DESCRIPTION:
                                Type date of visit.  Must be between DOB and today.  In the VA this reflects the visit appointment and or event date time.  

              DELETE TEST:      .01,0)= I 1

              GROUP:            VA/IHS
              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER

              CROSS-REFERENCE:  9000010^B 
                                1)= S ^AUPNVSIT("B",$E(X,1,30),DA)=""
                                2)= K ^AUPNVSIT("B",$E(X,1,30),DA)
                                Regular B cross reference on .01 Visit/Admit Date&Time ^AUPNVSIT("B",Visit/Admit Date&Time,ien)="" 


              CROSS-REFERENCE:  9000010^AAHTOO^MUMPS 
                                1)= I $P(^AUPNVSIT(DA,0),U,5),$P(^(0),U,7)]"",$P(^(0),U,7)="H" S ^AUPNVSIT("AAH",$P(^AUPNVSIT(DA,0),U,5),((9999999-$P(X,".",1))_$S($P(X,".",2)'="":"."_$P(X,".",2),1:"")),DA)=""
                                2)= I $P(^AUPNVSIT(DA,0),U,5),$P(^(0),U,7)]"",$P(^(0),U,7)="H" K ^AUPNVSIT("AAH",$P(^AUPNVSIT(DA,0),U,5),((9999999-$P(X,".",1))_$S($P(X,".",2)'="":"."_$P(X,".",2),1:"")),DA)
                                This cross reference indexes Hospitalization visits (#.07=H) by patient and inverse visit date.  Used to get at the last n Hospitalizations.  


              CROSS-REFERENCE:  9000010^AA-TOO^MUMPS 
                                1)= I $P(^AUPNVSIT(DA,0),U,5) S ^AUPNVSIT("AA",$P(^AUPNVSIT(DA,0),U,5),((9999999-$P(X,".",1))_$S($P(X,".",2)'="":"."_$P(X,".",2),1:"")),DA)=$S(+$P(^AUPNVSIT(DA,0),U,21):+$P(^(0),U,21),1:"")
                                2)= I $P(^AUPNVSIT(DA,0),U,5) K ^AUPNVSIT("AA",$P(^AUPNVSIT(DA,0),U,5),((9999999-$P(X,".",1))_$S($P(X,".",2)'="":"."_$P(X,".",2),1:"")),DA)
                                This cross reference indexes the visits by patient and inverse date.  It is used to find the last n visits by a particular patient.  Used by PCC Q-Man, PCC Health Summary, PCC Management Reports, etc.  The name AA-TOO
                                signifies that the cross reference used several field values and therefore the index AA is set on all of the fields.  


              CROSS-REFERENCE:  9000010^AET1^MUMPS 
                                1)= I $P($G(^AUPNVSIT(DA,150)),U,3)]"",$P($G(^AUPNVSIT(DA,0)),U,22)]"",$P($G(^AUPNVSIT(DA,0)),U,5)]"" S ^AUPNVSIT("AET",$P(^AUPNVSIT(DA,0),U,5),X,$P(^AUPNVSIT(DA,0),U,22),$P(^AUPNVSIT(DA,150),U,3),DA)=""
                                2)= I $P($G(^AUPNVSIT(DA,150)),U,3)]"",$P($G(^AUPNVSIT(DA,0)),U,22)]"",$P($G(^AUPNVSIT(DA,0)),U,5)]"" K ^AUPNVSIT("AET",$P(^AUPNVSIT(DA,0),U,5),X,$P(^AUPNVSIT(DA,0),U,22),$P(^AUPNVSIT(DA,150),U,3),DA)
                                Cross reference for OE 3 and CPRS this gives the patient, visit date/time, hospital location, encounter type, visit IEN.  It is set to Service Category.  


              CROSS-REFERENCE:  9000010^ADEL2^MUMPS 
                                1)= I $G(DUZ("AG"))'?1"I"0.1"HS",+$P(^AUPNVSIT(DA,0),"^",9)'>0 S ^AUPNVSIT("ADEL",+X,DA)=""
                                2)= K ^AUPNVSIT("ADEL",+X,DA)
                                This sets the "delete" flag based upon the Dependent Entry Count.  


              CROSS-REFERENCE:  9000010^AHL2^MUMPS 
                                1)= I $P(^AUPNVSIT(DA,0),U,22) S ^AUPNVSIT("AHL",$P(^AUPNVSIT(DA,0),U,22),((9999999-$P(X,".",1))_$S($P(X,".",2)'="":"."_$P(X,".",2),1:"")),DA)=""
                                2)= I $P(^AUPNVSIT(DA,0),U,22) K ^AUPNVSIT("AHL",$P(^AUPNVSIT(DA,0),U,22),((9999999-$P(X,".",1))_$S($P(X,".",2)'="":"."_$P(X,".",2),1:"")),DA)
                                This cross reference indexes the visits by hospital location and inverse date.  It is used to find a date/time range of visits by a particular hospital location.  The name AHL2 signifies that the cross reference used 
                                several field values and therefore the index AHL is set on all of the fields.  



9000010,.02   DATE VISIT CREATED     0;2 DATE (Required)

              INPUT TRANSFORM:  S %DT="EXRS" D ^%DT S X=Y K:DT<X!(2600000>X) X
              LAST EDITED:      JUN 10, 1996 
              HELP-PROMPT:      SYSTEM GENERATED 
              DESCRIPTION:      Generated when new visit added to subfile.  Date visit added to file.  Usually stuffed with DT.  
                                 
                                A date between 1960 and today.  

              GROUP:            IHS/VA
                                UNEDITABLE
              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER


9000010,.03   TYPE                   0;3 SET (Required)

                                'I' FOR IHS; 
                                'C' FOR CONTRACT; 
                                'T' FOR TRIBAL; 
                                'O' FOR OTHER; 
                                '6' FOR 638 PROGRAM; 
                                'V' FOR VA; 
              LAST EDITED:      MAY 12, 1988 
              DESCRIPTION:
                                IHS- The type of visit.  Differentiates between various categories of visit types.  E.g.  A visit provided by contract care funds versus a visit directing provided by IHS.  I-IHS, C-Contract, V-VA, O-Other, 6-638 Program.  

              GROUP:            IHS

9000010,.05   PATIENT NAME           0;5 POINTER TO PATIENT/IHS FILE (#9000001) (Required)

              PATIENT/IHS                                                                                                      
              LAST EDITED:      MAY 21, 1996 
              DESCRIPTION:
                                Pointer to the Patient file.  

              GROUP:            IHS
                                UNEDITABLE
              CROSS-REFERENCE:  9000010^C 
                                1)= S ^AUPNVSIT("C",$E(X,1,30),DA)=""
                                2)= K ^AUPNVSIT("C",$E(X,1,30),DA)

              CROSS-REFERENCE:  9000010^AA^MUMPS 
                                1)= S ^AUPNVSIT("AA",X,((9999999-$P(+^AUPNVSIT(DA,0),".",1))_$S($P(+^AUPNVSIT(DA,0),".",2)'="":"."_$P(+^(0),".",2),1:"")),DA)=$S(+$P(^AUPNVSIT(DA,0),U,21):+$P(^(0),U,21),1:"")
                                2)= K ^AUPNVSIT("AA",X,((9999999-$P(+^AUPNVSIT(DA,0),".",1))_$S($P(+^AUPNVSIT(DA,0),".",2)'="":"."_$P(+^(0),".",2),1:"")),DA)
                                Indexes visits by patient and inverse visit date.  Used to find the last n visits made by a patient.  


              CROSS-REFERENCE:  9000010^AAHTOO2^MUMPS 
                                1)= I $P(^AUPNVSIT(DA,0),U,7)]"",$P(^(0),U,7)="H" S ^AUPNVSIT("AAH",X,((9999999-$P(+^AUPNVSIT(DA,0),".",1))_$S($P(+^AUPNVSIT(DA,0),".",2)'="":"."_$P(+^(0),".",2),1:"")),DA)=""
                                2)= I $P(^AUPNVSIT(DA,0),U,7)]"",$P(^(0),U,7)="H" K ^AUPNVSIT("AAH",X,((9999999-$P(+^AUPNVSIT(DA,0),".",1))_$S($P(+^AUPNVSIT(DA,0),".",2)'="":"."_$P(+^(0),".",2),1:"")),DA)
                                Indexes HOSPITALIZATION visits by patient, inverse visit date.  Used to find the last n Hospitaliations for a given patient.  


              CROSS-REFERENCE:  9000010^AET2^MUMPS 
                                1)= I $P($G(^AUPNVSIT(DA,150)),U,3)]"",$P($G(^AUPNVSIT(DA,0)),U,22)]"" S ^AUPNVSIT("AET",X,$P(^AUPNVSIT(DA,0),U,1),$P(^AUPNVSIT(DA,0),U,22),$P(^AUPNVSIT(DA,150),U,3),DA)=""
                                2)= I $P($G(^AUPNVSIT(DA,150)),U,3)]"",$P($G(^AUPNVSIT(DA,0)),U,22)]"" K ^AUPNVSIT("AET",X,$P(^AUPNVSIT(DA,0),U,1),$P(^AUPNVSIT(DA,0),U,22),$P(^AUPNVSIT(DA,150),U,3),DA)
                                Cross reference for OE 3 and CPRS this gives the patient, visit date/time, hospital location, encounter type, visit IEN. It is set to Service Category.  



9000010,.06   LOC. OF ENCOUNTER      0;6 POINTER TO LOCATION FILE (#9999999.06)

              LAST EDITED:      AUG 16, 1995 
              DESCRIPTION:
                                Pointer to the location file.  Location where the visit took place.  In the VA, the Location file entries will be based on the current entries in the institution file, so this field represents the institution.  

              GROUP:            IHS

9000010,.07   SERVICE CATEGORY       0;7 SET

                                'A' FOR AMBULATORY; 
                                'H' FOR HOSPITALIZATION; 
                                'I' FOR IN HOSPITAL; 
                                'C' FOR CHART REVIEW; 
                                'T' FOR TELECOMMUNICATIONS; 
                                'N' FOR NOT FOUND; 
                                'S' FOR DAY SURGERY; 
                                'O' FOR OBSERVATION; 
                                'E' FOR EVENT (HISTORICAL); 
                                'R' FOR NURSING HOME; 
                                'D' FOR DAILY HOSPITALIZATION DATA; 
                                'X' FOR ANCILLARY PACKAGE DAILY DATA; 
              LAST EDITED:      MAY 21, 1996 
              DESCRIPTION:      This service category field represents what kind of service was provided.  The IHS definition is represented by a set of codes.  This field can be used by IHS to screen on service categories.  
                                 
                                The VA continues to populate this field to be backward compatible with IHS utilities depending on this field.  
                                 
                                  The VA uses the Service Provided file (#150.1) to define a more detailed file of services provided.  When a VA user identifies the Service Provided (field 15001), a trigger will automatically populate this service 
                                category based on relationships between entries in File 150.1 and the set of codes for this field.  

              GROUP:            IHS
              CROSS-REFERENCE:  9000010^AAH^MUMPS 
                                1)= I X="H",$P(^AUPNVSIT(DA,0),U,5)]"" S ^AUPNVSIT("AAH",$P(^AUPNVSIT(DA,0),U,5),((9999999-$P(+^(0),".",1))_$S($P(+^(0),".",2):"."_$P(+^(0),".",2),1:"")),DA)=""
                                2)= I X="H",$P(^AUPNVSIT(DA,0),U,5)]"" K ^AUPNVSIT("AAH",$P(^AUPNVSIT(DA,0),U,5),((9999999-$P(+^(0),".",1))_$S($P(+^(0),".",2):"."_$P(+^(0),".",2),1:"")),DA)
                                Indexes Hospitalization visits by patient and inverse visit date.  Used to find the last n Hospitalizations for a given patient.  



9000010,.08   DSS ID                 0;8 POINTER TO CLINIC STOP FILE (#40.7)

              INPUT TRANSFORM:  S DIC("S")="I $P(^(0),U,3)=""""!($P(^(0),U,3)'<$P(^AUPNVSIT(DA,0),U))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
              LAST EDITED:      OCT 15, 1996 
              DESCRIPTION:
                                Pointer to the Clinic Stop file.  Organized clinic in which this visit took place.  E.g.  Pediatrics, General 

              SCREEN:           S DIC("S")="I $P(^(0),U,3)=""""!($P(^(0),U,3)'<$P(^AUPNVSIT(DA,0),U))"
              EXPLANATION:      ALLOW PAST VISITS
              GROUP:            IHS/VA

9000010,.09   DEPENDENT ENTRY COUNT  0;9 NUMBER

              INPUT TRANSFORM:  K:+X'=X!(X>999)!(X<0)!(X?.E1"."1N.N) X
              LAST EDITED:      AUG 19, 1992 
              HELP-PROMPT:      TYPE A WHOLE NUMBER BETWEEN 0 AND 999 
              DESCRIPTION:      IHS- a count of how many "V" file entries are pointing to this visit.  If the count is zero, the visit should be deleted.  Field is updated by a cross reference in each "V" file that calls routine ADD^AUPNVSIT or
                                SUB^AUPNVSIT.  

              WRITE AUTHORITY:  ^
              GROUP:            IHS/VA
                                UNEDITABLE
              CROSS-REFERENCE:  9000010^ADEL^MUMPS 
                                1)= I $G(DUZ("AG"))'?1"I"0.1"HS" S:X'>0 ^AUPNVSIT("ADEL",+^AUPNVSIT(DA,0),DA)="" K:X>0 ^AUPNVSIT("ADEL",+^AUPNVSIT(DA,0),DA)
                                2)= Q


9000010,.11   DELETE FLAG            0;11 SET

                                '0' FOR ACTIVE; 
                                '1' FOR DELETED; 
              LAST EDITED:      NOV 11, 1986 
              DESCRIPTION:
                                Flag set to signify that the visit has been deleted.  

              WRITE AUTHORITY:  ^
              GROUP:            IHS/VA
                                UNEDITABLE

9000010,.12   PARENT VISIT LINK      0;12 POINTER TO VISIT FILE (#9000010)

              LAST EDITED:      APR 15, 1996 
              DESCRIPTION:
                                The PARENT VISIT LINK field points back to the VISIT file.  

              GROUP:            IHS/VA
              CROSS-REFERENCE:  9000010^AD 
                                1)= S ^AUPNVSIT("AD",$E(X,1,30),DA)=""
                                2)= K ^AUPNVSIT("AD",$E(X,1,30),DA)
                                PARENT VISIT LINK 


              CROSS-REFERENCE:  9000010^APV^MUMPS 
                                1)= D ADD^AUPNVSIT
                                2)= D SUB^AUPNVSIT
                                This updates the dependent entry count when a child visit is created.  



9000010,.13   DATE LAST MODIFIED     0;13 DATE

              INPUT TRANSFORM:  S %DT="EXRS" D ^%DT S X=Y K:DT<X!(2600000>X) X
              LAST EDITED:      APR 15, 1996 
              HELP-PROMPT:      TYPE A DATE BETWEEN 1960 AND TODAY 
              DESCRIPTION:
                                Date on which the visit was last modified.  Any time a field in the visit file or a V File is added or deleted, this field is automatically updated with the current date.  

              GROUP:            IHS/VA
              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER


9000010,.18   CHECK OUT DATE&TIME    0;18 DATE

              INPUT TRANSFORM:  S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
              LAST EDITED:      FEB 17, 1994 
              HELP-PROMPT:      Enter the date and time the patient checked out. 
              DESCRIPTION:
                                This field is the date and time the patient checked out for this visit.  This field will only store the information temporarily and will be empty.  

              TECHNICAL DESCR:
                                This data is passed from the MCCR event data capture and then passed from PCE to PIMS 5.3 for automated check-out.  


9000010,.21   ELIGIBILITY            0;21 POINTER TO ELIGIBILITY CODE FILE (#8)

              INPUT TRANSFORM:  S DIC("S")="I $D(^DPT($S($D(DFN):DFN,1:$P(^AUPNVSIT(DA,0),""^"",5)),""E"",+Y,0))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
              LAST EDITED:      APR 04, 1995 
              HELP-PROMPT:      Select the eligibility which best describes the patient's entitlement to care for this visit. 
              DESCRIPTION:
                                Defines the patient's eligibility for this visit.  

              SCREEN:           S DIC("S")="I $D(^DPT($S($D(DFN):DFN,1:$P(^AUPNVSIT(DA,0),""^"",5)),""E"",+Y,0))"
              EXPLANATION:      only valid eligibilities for this pt.
              GROUP:            VA
              NOTES:            XXXX--CAN'T BE ALTERED EXCEPT BY PROGRAMMER

              CROSS-REFERENCE:  9000010^AVAA2^MUMPS 
                                1)= I +$P(^AUPNVSIT(DA,0),"^",5) S ^AUPNVSIT("AA",$P(^AUPNVSIT(DA,0),"^",5),((9999999-$P(+^AUPNVSIT(DA,0),"."))_$S($P(+^AUPNVSIT(DA,0),".",2)'="":"."_$P(+^(0),".",2),1:"")),DA)=$S(+X:+X,1:"")
                                2)= I +$P(^AUPNVSIT(DA,0),"^",5),$D(^AUPNVSIT("AA",$P(^AUPNVSIT(DA,0),"^",5),((9999999-$P(+^AUPNVSIT(DA,0),"."))_$S($P(+^AUPNVSIT(DA,0),".",2)'="":"."_$P(+^(0),".",2),1:"")),DA)) S ^(DA)=""
                                3)= This is a required field.
                                Set the "AA" cross reference equal to the pt's eligibility (pointer).  



9000010,.22   HOSPITAL LOCATION      0;22 POINTER TO HOSPITAL LOCATION FILE (#44)

              LAST EDITED:      MAY 21, 1996 
              HELP-PROMPT:      Answer with the name of the hospital location where this visit occurred. 
              DESCRIPTION:
                                The hospital location where this visit occurred.  

              GROUP:            VA
              CROSS-REFERENCE:  9000010^AHL^MUMPS 
                                1)= S ^AUPNVSIT("AHL",X,(9999999-$P($P(^AUPNVSIT(DA,0),U,1),".",1))_$S($P($P(^(0),U,1),".",2)'="":"."_$P($P(^(0),U,1),".",2),1:""),DA)=""
                                2)= K ^AUPNVSIT("AHL",X,(9999999-$P($P(^AUPNVSIT(DA,0),U,1),".",1))_$S($P($P(^(0),U,1),".",2)'="":"."_$P($P(^(0),U,1),".",2),1:""),DA)
                                This cross reference indexes the visits by hospital location and inverse date.  It is used to find a date/time range of visits by a particular hospital location.  The cross reference used several field values and therefore
                                the index AHL is set on all of the fields.  


              CROSS-REFERENCE:  9000010^AET3^MUMPS 
                                1)= I $P($G(^AUPNVSIT(DA,150)),U,3)]"",$P($G(^AUPNVSIT(DA,0)),U,5)]"" S ^AUPNVSIT("AET",$P(^AUPNVSIT(DA,0),U,5),$P(^AUPNVSIT(DA,0),U,1),X,$P(^AUPNVSIT(DA,150),U,3),DA)=""
                                2)= I $P($G(^AUPNVSIT(DA,150)),U,3)]"",$P($G(^AUPNVSIT(DA,0)),U,5)]"" K ^AUPNVSIT("AET",$P(^AUPNVSIT(DA,0),U,5),$P(^AUPNVSIT(DA,0),U,1),X,$P(^AUPNVSIT(DA,150),U,3),DA)
                                Cross reference for OE 3 and CPRS this gives the patient, visit date/time, hospital location, encounter type, visit IEN. It is set to Service Category.  



9000010,.23   CREATED BY USER        0;23 POINTER TO NEW PERSON FILE (#200)

              LAST EDITED:      JUL 07, 2009 
              HELP-PROMPT:      SYSTEM GENERATED 
              DESCRIPTION:      This field contains either the DUZ passed in by the application calling the PCE API ($$DATA2PCE^PXAPI) to create or update the visit, or defaults to the DUZ at the time the entry was created or updated if no DUZ is passed
                                in, or if something other than the API is used to create or update the entry.  

              GROUP:            VA

9000010,.24   OPTION USED TO CREATE  0;24 POINTER TO OPTION FILE (#19)

              LAST EDITED:      JUL 15, 1992 
              HELP-PROMPT:      SYSTEM GENERATED 
              DESCRIPTION:
                                If known, the option under which this visit was created.  

              GROUP:            VA

9000010,.25   PROTOCOL               0;25 POINTER TO PROTOCOL FILE (#101)

              LAST EDITED:      OCT 25, 1994 
              DESCRIPTION:
                                This is the protocol which was used to create this visit.  


9000010,.26   PFSS ACCOUNT REFERENCE 0;26 POINTER TO PFSS ACCOUNT FILE (#375)

              LAST EDITED:      JUN 02, 2005 
              DESCRIPTION:
                                The number by which all VistA applications will reference an external medical billing system account number for purposes of attaching charges for 1st or 3rd party billing.  

              TECHNICAL DESCR:
                                A pointer to the PFSS ACCOUNT FILE (#375) 


9000010,2101  OUTSIDE LOCATION       21;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>50!($L(X)<2) X
              LAST EDITED:      JUN 03, 1992 
              HELP-PROMPT:      Answer must be 2-50 characters in length. 
              DESCRIPTION:
                                Free text location of service.  


9000010,15001 VISIT ID               150;1 FREE TEXT (Required)

              INPUT TRANSFORM:  K:$L(X)>15!($L(X)<8)!'(X?4.10NU1"-"3.4U) X
              LAST EDITED:      APR 25, 1996 
              HELP-PROMPT:      This is the unique visit id and is set by Visit Tracking and cannot be changed. 
                                UNEDITABLE
              CROSS-REFERENCE:  9000010^VID 
                                1)= S ^AUPNVSIT("VID",$E(X,1,30),DA)=""
                                2)= K ^AUPNVSIT("VID",$E(X,1,30),DA)


9000010,15002 PATIENT STATUS IN/OUT  150;2 SET

                                '1' FOR IN; 
                                '0' FOR OUT; 
              LAST EDITED:      MAY 17, 1995 
              DESCRIPTION:
                                This is an indicator of the patient's status at the time of the visit.  


9000010,15003 ENCOUNTER TYPE         150;3 SET

                                'P' FOR PRIMARY; 
                                'O' FOR OCCASION OF SERVICE; 
                                'S' FOR STOP CODE; 
                                'A' FOR ANCILLARY; 
                                'C' FOR CREDIT STOP; 
              LAST EDITED:      JUL 01, 1996 
              DESCRIPTION:
                                This field notes the primary type of visits, the stop code visit and the occasion of service visit that were manual entered.  

              CROSS-REFERENCE:  9000010^AET^MUMPS 
                                1)= I $P($G(^AUPNVSIT(DA,0)),U,5)]"",$P($G(^AUPNVSIT(DA,0)),U,22)]"" S ^AUPNVSIT("AET",$P(^AUPNVSIT(DA,0),U,5),$P(^AUPNVSIT(DA,0),U,1),$P(^AUPNVSIT(DA,0),U,22),X,DA)=""
                                2)= I $P($G(^AUPNVSIT(DA,0)),U,5)]"",$P($G(^AUPNVSIT(DA,0)),U,22)]"" K ^AUPNVSIT("AET",$P(^AUPNVSIT(DA,0),U,5),$P(^AUPNVSIT(DA,0),U,1),$P(^AUPNVSIT(DA,0),U,22),X,DA)
                                Cross reference for OE 3 and CPRS this gives the patient, visit date/time, hospital location, encounter type, visit IEN. It is set to Service Category.  



9000010,80001 SERVICE CONNECTED      800;1 SET

                                '1' FOR YES; 
                                '0' FOR NO; 
              LAST EDITED:      FEB 17, 1994 
              HELP-PROMPT:      If this visit is treating a service connected problem, enter "YES" here. 
              DESCRIPTION:
                                This field will be used to indicate if this visit was for treating a VA patient based on a service connected problem.  

              TECHNICAL DESCR:
                                This field may be passed to the Visit based on the MCCR event data capture.  


9000010,80002 AGENT ORANGE EXPOSURE  800;2 SET

                                '1' FOR YES; 
                                '0' FOR NO; 
              LAST EDITED:      FEB 17, 1994 
              HELP-PROMPT:      If this visit is treating an agent orange exposure problem, enter "YES" here. 
              DESCRIPTION:
                                This field is used to indicate that this visit represents treatment of a VA patient for a problem that is related to Agent Orange Exposure.  

              TECHNICAL DESCR:
                                This data may be passed to the Visit from MCCR event data capture. 


9000010,80003 IONIZING RADIATION EXPOSURE 800;3 SET

                                '1' FOR YES; 
                                '0' FOR NO; 
              LAST EDITED:      FEB 17, 1994 
              HELP-PROMPT:      If this visit is treating an Ionizing Radiation Exposure problem, enter "YES". 
              DESCRIPTION:
                                This field is used to indicate that this visit represents treatment of a VA patient for a problem that is related to Ionizing Radiation Exposure.  

              TECHNICAL DESCR:
                                This data may be passed to the Visit from MCCR event data capture.  


9000010,80004 SW ASIA CONDITIONS     800;4 SET

                                '1' FOR YES; 
                                '0' FOR NO; 
              LAST EDITED:      JUN 27, 2006 
              HELP-PROMPT:      If this visit is treating a problem related to SW Asia Conditions Exposure, enter "YES" 
              DESCRIPTION:
                                This field is used to indicate that this visit represents treatment of a VA patient for a problem that is related to Southwest Asia Conditions Exposure.  

              TECHNICAL DESCR:
                                This data may be passed to the Visit from the MCCR event data capture.  


9000010,80005 MILITARY SEXUAL TRAUMA 800;5 SET

                                '1' FOR YES; 
                                '0' FOR NO; 
              LAST EDITED:      JUN 25, 1998 
              DESCRIPTION:
                                Indicates whether the patient visit was related to their Military Sexual Trauma.  


9000010,80006 HEAD AND/OR NECK CANCER 800;6 SET

                                '1' FOR YES; 
                                '0' FOR NO; 
              LAST EDITED:      SEP 25, 2001 
              HELP-PROMPT:      If this visit is treating a problem related to Head/Neck Cancer, enter "YES" 
              DESCRIPTION:
                                This field is used to indicate that the visit represents treatment of a VA patient for a problem that is related to Head and/or Neck Cancer.  


9000010,80007 COMBAT VETERAN         800;7 SET

                                '1' FOR YES; 
                                '0' FOR NO; 
              LAST EDITED:      NOV 18, 2003 
              HELP-PROMPT:      If this visit is treating a problem possibly related to combat. 
              DESCRIPTION:
                                This field is used to indicate that the visit represents treatment of a VA patient for a problem that is possibly related to combat.  


9000010,80008 PROJ 112/SHAD          800;8 SET

                                '1' FOR YES; 
                                '0' FOR NO; 
              LAST EDITED:      JUN 02, 2005 
              HELP-PROMPT:      If this visit is treating a problem related to PROJ 112/SHAD, enter 'YES'. 
              DESCRIPTION:      Project 112/SHAD was the name of the overall program for both shipboard and land-based biological and chemical testing that was conducted by the United States (U.S.) military between 1962 and 1973. Project SHAD (Shipboard
                                Hazard and Defense) was the shipboard portion of these tests.  


9000010,80011 SERVICE CONNECTION EDIT FLAG 800;11 SET

                                '0' FOR EDITABLE; 
                                '1' FOR NOT EDITABLE; 
              LAST EDITED:      FEB 05, 2004 
              HELP-PROMPT:      Enter 1 to prevent user editing of the Service Connection classification. 
              DESCRIPTION:
                                This field is used to determine if the Service Connection Classification for the Visit can be edited by the user.  

              TECHNICAL DESCR:
                                The Service Connected classification is not editable if either any of the diagnosis Service Connection classifications are "Yes" or all of the diagnosis Service Connection classifications are "No".  


9000010,80012 AGENT ORANGE EDIT FLAG 800;12 SET

                                '0' FOR EDITABLE; 
                                '1' FOR NOT EDITABLE; 
              LAST EDITED:      FEB 05, 2004 
              HELP-PROMPT:      Enter 1 to prevent user editing of the Agent Orange classification 
              DESCRIPTION:
                                This field is used to determine if the Agent Orange Classification for the Visit can be edited by the user.  

              TECHNICAL DESCR:
                                The Agent Orange classification is not editable if either any of the diagnosis Agent Orange classifiactions are "Yes" or all of the diagnosis Agent Orange classifiactions are "No".  


9000010,80013 IONIZING RADIATION EDIT FLAG 800;13 SET

                                '0' FOR EDITABLE; 
                                '1' FOR NOT EDITABLE; 
              LAST EDITED:      FEB 05, 2004 
              HELP-PROMPT:      Enter 1 to prevent user editing of the Ionizing Radiation classification 
              DESCRIPTION:
                                This field is used to determine if the Ionizing Radiation classification for the Visit can be edited by the user.  

              TECHNICAL DESCR:
                                The Ionizing Radiation classification is not editable if either any of the diagnosis Ionizing Radiation classifications are "Yes" or all of the diagnosis Ionizing Radiation classifiactions are "No".  


9000010,80014 SW ASIA CONDITIONS EDIT FLAG 800;14 SET

                                '0' FOR EDITABLE; 
                                '1' FOR NOT EDITABLE; 
              LAST EDITED:      MAY 10, 2006 
              HELP-PROMPT:      Enter 1 to prevent user editing of the SW Asia Conditions classification. 
              DESCRIPTION:
                                This field is used to determine if the Southwest Asia Conditions classification for the Visit can be edited by the user.  

              TECHNICAL DESCR:
                                The Southwest Asia Conditions classification is not editable if either any of the diagnosis Southwest Asia Conditions classifications are "Yes", or all of the diagnosis Southwest Asia Conditions classifications are "No".  


9000010,80015 MST EDIT FLAG          800;15 SET

                                '0' FOR EDITABLE; 
                                '1' FOR NOT EDITABLE; 
              LAST EDITED:      FEB 05, 2004 
              HELP-PROMPT:      Enter 1 to prevent user editing of the Military Sexual Trauma classification 
              DESCRIPTION:
                                This field is used to determine if the Military Sexual Trauma classification for the Visit can be edited by the user.  

              TECHNICAL DESCR:
                                The Military Sexual Trauma classification is not editable if either any of the diagnosis Miliary Sexual Trauma classifications are "Yes", or all of the diagnosis Miliary Sexual Trauma classifications are "No".  


9000010,80016 HEAD AND NECK CANCER EDIT FLAG 800;16 SET

                                '0' FOR EDITABLE; 
                                '1' FOR NOT EDITABLE; 
              LAST EDITED:      FEB 05, 2004 
              HELP-PROMPT:      Enter 1 to prevent user editing of the Head and Neck Cancer classification 
              DESCRIPTION:
                                This field is used to determine if the Head and/or Neck Cancer classification can be edited by the user.  

              TECHNICAL DESCR:
                                The Head and/or Neck Cancer classification is not editable if either any of the diagnosis Head and/or Neck Cancer classifications are "Yes", or all of the diagnosis Head and/or Neck Cancer classifications are "No".  


9000010,80017 COMBAT VETERAN EDIT FLAG 800;17 SET

                                '0' FOR EDITABLE; 
                                '1' FOR NOT EDITABLE; 
              LAST EDITED:      FEB 17, 2004 
              HELP-PROMPT:      Enter 1 to prevent user editing of the combat Veteran classification. 
              DESCRIPTION:
                                This field is used to determine if the Combat Veteran classification can be edited by the user.  

              TECHNICAL DESCR:
                                The combat Veteran classification is not editable if either any of the diagnosis Combat Veteran classifications are "Yes", or all of the diagnosis Combat Veteran classifications are "No".  


9000010,80018 PROJ 112/SHAD EDIT FLAG 800;18 SET

                                '0' FOR EDITABLE; 
                                '1' FOR NOT EDITABLE; 
              LAST EDITED:      OCT 17, 2005 
              HELP-PROMPT:      Enter 1 to prevent user editing of the Proj 112/SHAD classification. 
              DESCRIPTION:
                                This field is used to determine if the PROJ 112/SHAD classification can be edited by the user.  

              TECHNICAL DESCR:
                                The PROJ 112/SHAD classification is not editable if either any of the diagnosis PROJ 112/SHAD classifications are "Yes", or all of the diagnosis PROJ 112/SHAD classifications are "No".  


9000010,81101 COMMENTS               811;1 FREE TEXT

              INPUT TRANSFORM:  K:$L(X)>245!($L(X)<1) X
              LAST EDITED:      JUL 11, 1995 
              HELP-PROMPT:      Answer must be 1-245 characters in length. 
              DESCRIPTION:
                                A FIELD TO ADD COMMENTS AS THEY PERTAIN TO A VISIT 


9000010,81202 PACKAGE                812;2 POINTER TO PACKAGE FILE (#9.4)

              LAST EDITED:      MAY 08, 1996 
              DESCRIPTION:
                                This is a pointer to the package that wanted the visit created.  

                                UNEDITABLE

9000010,81203 DATA SOURCE            812;3 POINTER TO PCE DATA SOURCE FILE (#839.7)

              LAST EDITED:      MAY 09, 1996 
              DESCRIPTION:
                                This is a pointer to the PCE DATA SOURCE file and is the source that wanted the visit created.  

                                UNEDITABLE


      FILES POINTED TO                      FIELDS

CLINIC STOP (#40.7)               DSS ID (#.08)

ELIGIBILITY CODE (#8)             ELIGIBILITY (#.21)

HOSPITAL LOCATION (#44)           HOSPITAL LOCATION (#.22)

LOCATION (#9999999.06)            LOC. OF ENCOUNTER (#.06)

NEW PERSON (#200)                 CREATED BY USER (#.23)

OPTION (#19)                      OPTION USED TO CREATE (#.24)

PACKAGE (#9.4)                    PACKAGE (#81202)

PATIENT/IHS (#9000001)            PATIENT NAME (#.05)

PCE DATA SOURCE (#839.7)          DATA SOURCE (#81203)

PFSS ACCOUNT (#375)               PFSS ACCOUNT REFERENCE (#.26)

PROTOCOL (#101)                   PROTOCOL (#.25)

VISIT (#9000010)                  PARENT VISIT LINK (#.12)



INPUT TEMPLATE(S):

PRINT TEMPLATE(S):

SORT TEMPLATE(S):

FORM(S)/BLOCK(S):